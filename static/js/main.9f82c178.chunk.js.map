{"version":3,"sources":["SampleApp/compoonents/index.ts","SampleApp/compoonents/Text/index.tsx","SampleApp/compoonents/Text/Text.tsx","SampleApp/compoonents/OldText/index.tsx","SampleApp/compoonents/MessageCard/MessageCard.tsx","reducers/mainReducer.ts","PaletteGenerator/components/IconButton/IconButton.tsx","config/config.ts","utils/kbob.ts","utils/getTextColor.tsx","utils/lch.ts","utils/utils.ts","utils/convertTokenOutputToTypes.ts","PaletteGenerator/components/Canvas/Canvas.tsx","PaletteGenerator/components/ChromaLimitSlider/ChromaLimitSlider.tsx","PaletteGenerator/components/ChromaSlider/ChromaSlider.tsx","PaletteGenerator/components/HueSliderBackground/HueSliderBackground.tsx","PaletteGenerator/components/HueSliderBackground/lch-hue-picker-background.png","PaletteGenerator/components/Output/Output.tsx","PaletteGenerator/components/Outputs/Outputs.tsx","config/staticTokens.ts","PaletteGenerator/components/Plotter/Plotter.tsx","PaletteGenerator/components/ScaleGenerator/ScaleGenerator.tsx","PaletteGenerator/components/Slider/Slider.tsx","PaletteGenerator/components/Swatch/Swatch.tsx","PaletteGenerator/components/Tooltip/repositionTooltip.ts","PaletteGenerator/components/Tooltip/repositionToTop.ts","PaletteGenerator/components/Tooltip/Tooltip.tsx","PaletteGenerator/components/TextSample/TextSample.tsx","PaletteGenerator/components/TextSamples/TextSamples.tsx","PaletteGenerator/components/TextSamplesPlot/TextSamplesPlot.tsx","PaletteGenerator/components/Toolbar/Toolbar.tsx","PaletteGenerator/components/TargetColorInput/TargetColorInput.tsx","PaletteGenerator/PaletteGenerator.tsx","hooks/useDragHandle.ts","utils/getDerivedColors.ts","utils/extractVividTextColorsForGreyScale.tsx","SampleApp/SampleApp/SampleApp.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Text","on","kind","UNSAFE","children","size","tag","weight","textAlign","textTransform","noWrap","UNSAFE_style","UNSAFE_className","truncate","color","undefined","_style","fontSize","fontWeight","whiteSpace","Element","className","style","MessageCard","mainReducer","state","action","changeType","scales","map","scale","index","scaleIndex","chromas","value","min","max","newChromaticTextChroma","chromaticTextChroma","newVividTextChroma","vividTextChroma","newHue","hue","chroma","shadeIndex","chromajs","lch","error","targetColorString","scaleName","defaultShade","IconButton","React","forwardRef","props","ref","title","onClick","faIcon","icon","shadeNames","luminances","regularTextColorConfig","lum","mix","vividTextColorConfig","maxLum","minLum","safeTextOnChromaticColors","default","subdued","vivid","kbob","string","toLowerCase","replace","getTextColor","bgColorLCH","maximizeChroma","label","bgColorObj","l","c","h","maxChroma","getMaxChroma","incrementor","hasTriedBothWays","textColorRegularObj","textColorRegularHex","hex","textColorSubduedObj","textColorSubduedHex","regular","contrast","marker","Array","isArray","isNaN","isClipped","_rgb","_clipped","step","Canvas","memo","canvasRef","useRef","useEffect","current","height","width","canvasContext","getContext","image","createImageData","L","C","data","putImageData","ChromaLimitSlider","onChange","renderBackground","ChromaSlider","useState","isDragging","setIsDragging","handleMouseUp","useCallback","handleMouseMove","e","chromaChange","movementX","shiftKey","handleKeyDown","key","preventDefault","sign","altKey","window","addEventListener","removeEventListener","onMouseDown","tabIndex","onKeyDown","data-slider-handle","left","toFixed","HueSliderBackground","active","isHovered","setIsHovered","backgroundImage","onMouseOver","onMouseOut","Output","heading","content","showConfirm","setShowConfirm","timeoutRef","clearTimeout","copyText","select","setSelectionRange","document","execCommand","id","setTimeout","copyToClipboard","faClipboard","readOnly","Outputs","callback","textColors","vividTextColorsForGreyShades","makeGap","str","printLength","length","repeat","cssPaletteColors","gap","scaleNameKebab","shadeName","colorHex","swatchColor","isDefaultShade","join","cssPaletteColorDefaults","defaultShadeIndex","defaultShadeName","darkerShadeName","lighterShadeName","parseDefaults","x","cssTextColors","slice","reduce","stringOutput","shades","shade","textColor","tokenName","textColorSubdued","vividTextColor","vividTextColorSubdued","cssTextColorsOnGrey","prevTokens","vividtextColorsOnGrey","greyOnGreyShade","greyOnGreyShadeSubdued","vividTextColorSets","textColorSet","token","tokenSubdued","hexSubdued","cssCombined","sassCombined","match","captureGroup1","_","errorMsg","some","cssRootRule","JSON","stringify","maxWidth","ReactDOM","createPortal","head","Plotter","ScaleGenerator","scaleTextColors","showTextPlots","showTextDetails","showColorOutputs","showTextChromaControls","showText","handleSnapChroma","forEach","showTargetColorInput","setShowTargetColorInput","targetColor","backgroundColor","targetColorNickname","position","faFillDrip","onBlur","marginLeft","faUndo","faArrowToLeft","faArrowToRight","diff","top","Math","round","onKeyPress","shadeTextColors","vividTextColorsForGreyShade","Slider","renderHandle","getBoundingClientRect","val","Swatch","swatchBGColor","flexBasis","black","faCheck","bgColorHex","showPlot","showDetails","repositionTooltip","triggerNode","tooltipNode","tooltipBodyNode","tooltipArrowNode","paddingInPixels","arrowSizeInRems","trigRect","tipRect","arrowSizeInPixels","newTip","y","tooFarLeft","tooFarRight","innerWidth","right","abs","amountOfRightsideOverflow","ceil","paddingBottom","bottom","repositionToTop","parseFloat","getComputedStyle","documentElement","Tooltip","onTriggerMove","onClickOutside","triggerRef","tooltipRef","tooltipBodyRef","tooltipArrowRef","configuredPositions","push","resizeObserver","ResizeObserver","mutationObserverConfig","attributes","childList","subtree","mutationObserver","MutationObserver","mutationsList","mutation","target","HTMLElement","SVGElement","classList","contains","eventListenerCallback","clickOutsideCallback","observe","disconnect","unobserve","cloneElement","body","TextSample","isSafeInConfig","setActive","colorRGB","css","microCopy","isUnsafeContrast","currentTarget","prev","TextSamples","bgColor","vividTextColorSet","indexKey","Fragment","TextSamplesPlot","TEXT_SAMPLES_PLOT__MARK","plotLabel","plotMarker","Toolbar","onShowTextDetailsChange","onShowTextPlotsChange","onShowTextChange","onShowColorOutputsChange","onShowTextChromaControlsChange","onFullscreenChange","onCanvasSizeChange","canvasSize","flex","type","faSlidersH","flexGrow","faText","faHashtag","faChartScatter","faGlassesAlt","faExpand","TargetColorInput","PaletteGenerator","defaults","useReducer","theme","handleStateChanges","setShowText","handleShowTextChange","setShowTextDetails","handleShowTextDetailsChange","setShowTextPlots","handleShowTextPlotsChange","setShowTextChromaControls","handleShowTextChromaControlsChange","setShowColorOutputs","handleShowColorOutputsChange","fullscreen","setFullscreen","handleFullscreenChange","outputDragHandleRef","outputHeightPx","dragHandleRef","initialHeight","minHeight","handleIsDragging","setHandleIsDragging","setOutputHeightPx","movementY","dragHandle","handleMouseDown","userSelect","removeProperty","useDragHandle","computedTextColors","faCircle","vividTextColors","faSquare","isSafe","getDerivedColors","greyScaleTextColors","chromaticScalesTextColors","srcScale","srcShade","vividTextColorLCH","greyShadeTextColors","greyBgColorHex","currGreyShade","vividText","vividTextSubdued","scaleKebab","vividContrast","vividSubduedContrast","vividtokenName","vividSubduedtokenName","srcScaleKebab","extractVividTextColorsForGreyScale","setSize","SampleApp","padding","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9f82c178.chunk.js","sourcesContent":["export * from './Text'\nexport * from './OldText'\nexport * from './MessageCard'\n","export * from './Text'\nexport * from './TextPropsType'\n","import React, { CSSProperties } from 'react'\nimport './Text.scss'\nimport { TextPropsType } from './TextPropsType'\n\ntype FontWeightType = 'normal' | 'bolder' | 'lighter'\n\nexport const Text = ({\n  on,\n  kind,\n  UNSAFE,\n  children,\n  size = 'm',\n  tag = 'span',\n  weight,\n  textAlign,\n  textTransform,\n  noWrap,\n  UNSAFE_style,\n  UNSAFE_className,\n  truncate,\n}: TextPropsType) => {\n  const color =\n    `var(--text-on-` +\n    `${on}` +\n    `${kind !== undefined ? '--' + kind : ''}` +\n    `${UNSAFE ? '--UNSAFE' : ''}` +\n    `)`\n\n  const _style: CSSProperties = {\n    fontSize: `var(--text-size-${size})`,\n    color: color,\n    fontWeight: (weight\n      ? `var(--text-weight-${weight})`\n      : undefined) as FontWeightType,\n    textAlign,\n    textTransform,\n    whiteSpace: noWrap ? 'nowrap' : undefined,\n  }\n\n  const Element = tag\n\n  return (\n    <Element\n      className={`Text${UNSAFE_className ? ` ${UNSAFE_className}` : ''}${\n        truncate ? ' Text--truncated' : ''\n      }`}\n      style={{ ..._style, ...UNSAFE_style }}\n    >\n      {children}\n    </Element>\n  )\n}\n","export * from './OldText'\nexport * from './OldTextPropsType'\n","import React from 'react'\nimport './MessageCard.scss'\n\nexport const MessageCard = () => {\n  return (\n    <div className=\"MessageCard\">\n      <div className=\"MessageCard__header\">Card Heading</div>\n      <div className=\"MessageCard__body\">\n        <p className=\"MessageCard__success-box\">Your action was successful!</p>\n\n        <div className=\"MessageCard__cta-button\">Click here</div>\n      </div>\n      <div className=\"MessageCard__footer\">\n        <button className=\"MessageCard__danger-button\">\n          Delete my account\n        </button>\n        <span className=\"MessageCard__danger-text\">This cannot be undone</span>\n      </div>\n    </div>\n  )\n}\n","import { ActionType, StateType } from 'types'\nimport chromajs from 'chroma-js'\n\nexport const mainReducer = (state: StateType, action: ActionType) => {\n  switch (action.changeType) {\n    case 'chromaReset': {\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) =>\n          index === action.scaleIndex\n            ? {\n                ...scale,\n                chromas: [\n                  0,\n                  3.882,\n                  10.84,\n                  21.46,\n                  39.99,\n                  34.351,\n                  29.004,\n                  24.976,\n                  20.508,\n                  16.04,\n                  11.572,\n                ],\n              }\n            : scale\n        ),\n      }\n    }\n\n    case 'chromaticTextChroma': {\n      const { scaleIndex, value, min, max } = action\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) => {\n          if (index === scaleIndex) {\n            let newChromaticTextChroma: number\n            if (scale.chromaticTextChroma + value < min)\n              newChromaticTextChroma = min\n            else if (scale.chromaticTextChroma + value > max)\n              newChromaticTextChroma = max\n            else newChromaticTextChroma = scale.chromaticTextChroma + value\n            return { ...scale, chromaticTextChroma: newChromaticTextChroma }\n          } else {\n            return scale\n          }\n        }),\n      }\n    }\n    case 'vividTextChroma': {\n      const { scaleIndex, value, min, max } = action\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) => {\n          if (index === scaleIndex) {\n            let newVividTextChroma: number\n            if (scale.vividTextChroma + value < min) newVividTextChroma = min\n            else if (scale.vividTextChroma + value > max)\n              newVividTextChroma = max\n            else newVividTextChroma = scale.vividTextChroma + value\n            return { ...scale, vividTextChroma: newVividTextChroma }\n          } else {\n            return scale\n          }\n        }),\n      }\n    }\n    case 'hue': {\n      const { scaleIndex, value, min, max } = action\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) => {\n          if (index === scaleIndex) {\n            let newHue: number\n            if (scale.hue + value < min) newHue = min\n            else if (scale.hue + value > max) newHue = max\n            else newHue = scale.hue + value\n            return { ...scale, hue: newHue }\n          } else {\n            return scale\n          }\n        }),\n      }\n    }\n    case 'chroma': {\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) =>\n          index === action.scaleIndex\n            ? {\n                ...scale,\n                chromas: scale.chromas.map((chroma, index) => {\n                  if (index === action.shadeIndex) {\n                    if (chroma + action.value < action.min) return action.min\n                    if (chroma + action.value > action.max) return action.max\n                    return chroma + action.value\n                  }\n                  return chroma\n                }),\n              }\n            : scale\n        ),\n      }\n    }\n    case 'targetColorString': {\n      let hue: number | null\n      if (action.value) {\n        try {\n          hue = chromajs(action.value).lch()[2]\n        } catch (error) {\n          hue = null\n        }\n      }\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) =>\n          index === action.scaleIndex\n            ? {\n                ...scale,\n                targetColorString: action.value,\n                hue: hue ? hue : scale.hue,\n              }\n            : scale\n        ),\n      }\n    }\n    case 'defaultShade': {\n      return {\n        ...state,\n        scales: state.scales.map((scale, index) =>\n          index === action.scaleIndex && scale.scaleName !== 'Grey'\n            ? { ...scale, defaultShade: action.shadeIndex }\n            : scale\n        ),\n      }\n    }\n    default:\n      return state\n  }\n}\n","import React, { CSSProperties } from 'react'\nimport './IconButton.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { IconDefinition } from '@fortawesome/pro-light-svg-icons'\n\ntype IconButtonPropsType = {\n  faIcon?: IconDefinition\n  onClick: () => void\n  title?: string\n  style?: CSSProperties\n}\n\nexport const IconButton = React.forwardRef<\n  HTMLButtonElement,\n  IconButtonPropsType\n>((props, ref) => {\n  return (\n    <button\n      title={props.title}\n      style={props.style}\n      ref={ref}\n      className=\"IconButton\"\n      onClick={props.onClick}\n    >\n      {!!props.faIcon && <FontAwesomeIcon icon={props.faIcon} />}\n    </button>\n  )\n})\n","export const shadeNames = [\n  '000',\n  '050',\n  '100',\n  '200',\n  '300',\n  '400',\n  '500',\n  '600',\n  '700',\n  '800',\n  '900',\n]\n\nexport const luminances = [\n  99.99, // 000 white\n  97.0, // 050\n  92.0, // 100\n  85.0, // 200\n  74.0, // 300\n  62.0, // 400\n  48.9, // 500\n  39.0, // 600\n  27.0, // 700\n  15.0, // 800\n  5.0, // 900\n]\n\nexport const regularTextColorConfig = [\n  { lum: 20, mix: 0.35 }, // 000 white\n  { lum: 20, mix: 0.34 }, // 050\n  { lum: 20, mix: 0.33 }, // 100\n  { lum: 20, mix: 0.28 }, // 200\n  { lum: 20, mix: 0.25 }, // 300\n  { lum: 15, mix: 0.25 }, // 400\n  { lum: 100, mix: 0.25 }, // 500\n  { lum: 99, mix: 0.25 }, // 600\n  { lum: 99, mix: 0.25 }, // 700\n  { lum: 97, mix: 0.25 }, // 800\n  { lum: 96, mix: 0.25 }, // 900 darkest\n]\n\nexport const vividTextColorConfig = [\n  { lum: 45, maxLum: 50, mix: 0.25 }, // 000 white\n  { lum: 39, maxLum: 50, mix: 0.25 }, // 050\n  { lum: 35, maxLum: 50, mix: 0.25 }, // 100\n  { lum: 32, maxLum: 50, mix: 0.25 }, // 200\n  { lum: 30, maxLum: 50, mix: 0.25 }, // 300\n  { lum: 18.2, minLum: 100, mix: 0.25 }, // 400\n  { lum: 100, minLum: 100, mix: 0.25 }, // 500\n  { lum: 95, minLum: 100, mix: 0.25 }, // 600\n  { lum: 90, minLum: 71, mix: 0.25 }, // 700\n  { lum: 85, minLum: 59.1, mix: 0.25 }, // 800\n  { lum: 80, minLum: 52.5, mix: 0.25 }, // 900 darkest\n]\n\nexport const safeTextOnChromaticColors = [\n  // 000\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 050\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 100\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 200\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 300\n  {\n    default: true,\n    subdued: false,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 400\n  {\n    default: true,\n    subdued: false,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 500\n  {\n    default: true,\n    subdued: false,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 600\n  {\n    default: true,\n    subdued: false,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 700\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 800\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n  // 900\n  {\n    default: true,\n    subdued: true,\n    vivid: true,\n    'vivid-subdued': false,\n  },\n]\n","export const kbob = (string: string) =>\n  string.toLowerCase().replace(/\\s+/g, '-')\n","import React from 'react'\nimport { LCHColor } from 'types'\nimport { getMaxChroma, lch } from 'utils'\nimport chromajs from 'chroma-js'\nimport { IconDefinition } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n// export type TextColorType = {\n//   lch: LCHColor\n//   hex: string\n//   contrast: number\n// }\n\nexport const getTextColor = ({\n  bgColorLCH,\n  lum,\n  minLum,\n  chroma,\n  mix,\n  maximizeChroma,\n  icon,\n  label,\n}: {\n  bgColorLCH: LCHColor\n  lum: number\n  minLum?: number\n  chroma: number\n  mix: number\n  maximizeChroma?: boolean\n  icon: IconDefinition\n  label: string\n}) => {\n  const bgColorObj = lch(bgColorLCH)\n\n  const color = { l: lum, c: chroma, h: bgColorLCH.h } as LCHColor\n\n  const maxChroma = getMaxChroma(color)\n  if (color.c > maxChroma) color.c = maxChroma\n\n  if (maximizeChroma && minLum && color.c < chroma) {\n    let incrementor = 1\n    let hasTriedBothWays = false\n\n    while (color.l >= minLum) {\n      const maxChroma = getMaxChroma({\n        l: color.l + incrementor,\n        c: color.c,\n        h: color.h,\n      })\n      if (maxChroma > color.c) {\n        color.l = color.l + incrementor\n        if (maxChroma > chroma) break\n        else color.c = maxChroma\n      } else {\n        if (hasTriedBothWays) break\n        incrementor = incrementor * -1\n        hasTriedBothWays = true\n      }\n    }\n  }\n\n  const textColorRegularObj = lch(color)\n  const textColorRegularHex = textColorRegularObj.hex()\n\n  const textColorSubduedObj = chromajs.mix(\n    textColorRegularObj,\n    bgColorObj,\n    mix,\n    'lch'\n  )\n  const textColorSubduedHex = textColorSubduedObj.hex()\n\n  return {\n    bgColorLCH,\n    regular: {\n      lch: color,\n      hex: textColorRegularHex,\n      contrast: chromajs.contrast(bgColorObj, textColorRegularObj),\n    },\n    subdued: {\n      lch: lch(textColorSubduedObj.lch()),\n      hex: textColorSubduedHex,\n      contrast: chromajs.contrast(textColorSubduedObj, bgColorObj),\n    },\n    marker: <FontAwesomeIcon icon={icon} />,\n    label,\n  }\n}\n","import chromajs from 'chroma-js'\nimport {ColorExtended, LCHColor} from 'types'\n\ntype LCHTuple = [number, number, number]\n// type LCHObject = { l: number; c: number; h: number }\n\nexport function lch(lch: LCHTuple): LCHColor\nexport function lch(lch: LCHColor): ColorExtended\n\nexport function lch(lch: LCHTuple | LCHColor) {\n  if (Array.isArray(lch)) {\n    return { l: lch[0], c: lch[1], h: isNaN(lch[2]) ? 0 : lch[2] } as LCHColor\n  } else {\n    return chromajs.lch(lch.l, lch.c, lch.h) as ColorExtended\n  }\n}\n\n","import { LCHColor, ScaleType } from 'types'\nimport { luminances, shadeNames } from 'config'\nimport { lch } from 'utils'\nimport { kbob } from './kbob'\n\nexport const isClipped = (color: LCHColor) => lch(color)._rgb._clipped\n\nexport const getMaxChroma = (color: LCHColor) => {\n  let chroma = 0\n  let step = 150\n\n  const halfIsOk = () => !isClipped({ ...color, c: chroma + step / 2 })\n  const goHalf = () => {\n    chroma = chroma + step / 2\n  }\n\n  while (step >= 0.1) {\n    if (halfIsOk()) {\n      goHalf()\n    } else {\n      step = step / 2\n    }\n  }\n\n  return chroma\n}\n\nexport const getMinMaxLuminance = (\n  color: LCHColor\n): [number, number] | null => {\n  if (isClipped(color)) {\n    let lum = 100\n\n    while (isClipped({ l: lum, c: color.c, h: color.h }) && lum >= 0) {\n      lum = lum - 0.1\n    }\n    const maxLum = lum\n    while (!isClipped({ l: lum, c: color.c, h: color.h }) && lum >= 0) {\n      lum = lum - 0.1\n    }\n    const minLum = lum + 0.1\n    if (maxLum === 0 || minLum === 0) return null\n\n    return [minLum, maxLum]\n  } else {\n    let lum = color.l\n    let step = 100 - color.l\n\n    const halfIsOk = (sign: number) =>\n      !isClipped({ ...color, l: lum + (step * sign) / 2 })\n    const goHalf = (sign: number) => {\n      lum = lum + (step / 2) * sign\n    }\n\n    while (step > 0.01) {\n      if (halfIsOk(1)) {\n        goHalf(1)\n      } else {\n        step = step / 2\n      }\n    }\n    if (lum <= 0.01) throw new Error('no valid color found for this chroma')\n    const maxLum = lum\n    step = color.l\n\n    while (step > 0.01) {\n      if (halfIsOk(-1)) {\n        goHalf(-1)\n      } else {\n        step = step / 2\n      }\n    }\n\n    while (!isClipped({ l: lum, c: color.c, h: color.h }) && lum >= 0) {\n      lum = lum - 0.1\n    }\n    const minLum = lum + 0.1\n\n    return [minLum, maxLum]\n  }\n}\n\nexport const parseScaleShades = (\n  scales: ScaleType[],\n  callback: (arg: {\n    scaleName: string\n    scaleNameKebab: string\n    shadeName: string | null\n    shadeIndex: number\n    isDefaultShade: boolean\n    colorHex: string | undefined\n  }) => string\n) =>\n  scales\n    .map((scale, scaleIndex) => {\n      return shadeNames\n        .map((shadeName, shadeIndex) => {\n          const color = lch({\n            l: luminances[shadeIndex],\n            c: scale.chromas[shadeIndex],\n            h: scale.hue,\n          })\n          const swatchColor = color._rgb._clipped ? undefined : color.hex()\n          if (shadeIndex === 0) {\n            return ''\n          }\n\n          return callback({\n            scaleName: scale.scaleName,\n            scaleNameKebab: kbob(scale.scaleName),\n            shadeName: shadeName,\n            shadeIndex: shadeIndex,\n            isDefaultShade: shadeIndex === scale.defaultShade,\n            colorHex: swatchColor,\n          })\n        })\n        .join('\\n')\n    })\n    .join('\\n\\n')\n\nexport const parseDefaults = (\n  scales: ScaleType[],\n  callback: (arg: {\n    scaleNameKebab: string\n    defaultShadeName: string\n    darkerShadeName: string\n    lighterShadeName: string\n    defaultShadeIndex: number\n  }) => string\n) =>\n  scales.map((scale) => {\n    if (scale.defaultShade === undefined) {\n      return ''\n    }\n\n    const defaultShadeIndex = scale.defaultShade\n    const defaultShadeName = shadeNames[defaultShadeIndex]\n    const darkerShadeName =\n      defaultShadeIndex < 10\n        ? shadeNames[defaultShadeIndex + 1]\n        : defaultShadeName\n    const lighterShadeName =\n      defaultShadeIndex > 1\n        ? shadeNames[defaultShadeIndex - 1]\n        : defaultShadeName\n\n    return callback({\n      scaleNameKebab: kbob(scale.scaleName),\n      defaultShadeName,\n      darkerShadeName,\n      lighterShadeName,\n      defaultShadeIndex,\n    })\n  })\n","function toPascalCase(text: string) {\n  return text.replace(/(^\\w|-\\w)/g, clearAndUpper)\n}\n\nfunction clearAndUpper(text: string) {\n  return text.replace(/-/, '').toUpperCase()\n}\n\nexport const convertTokenOutputToTypes = (cssCombined: string) => {\n  const types = cssCombined\n    .replace(/ {2}--/gm, '')\n    .replace(/:.*$/gm, '')\n    .split('\\n')\n    .map((line) => {\n      if (line.match('text-on') !== null) {\n        const typeName =\n          toPascalCase(\n            line\n              .replace(/--/gm, '-')\n              .replace('lighter', 'Lighter')\n              .replace('darker', 'Darker')\n              .replace('UNSAFE', 'Unsafe')\n          ) + 'Type'\n\n        const onProp =\n          line\n            .replace(/--/gm, '_')\n            .match(/(?<=^text-on-).+?(?=(_|$))/gm)?.[0] ||\n          'BIG PROBLEM BIG PROBLEM BIG PROBLEM'\n\n        const unsafe = !!line.match('--UNSAFE')\n\n        const kindMatch = line\n          .replace('--UNSAFE', '')\n          .replace(/--/gm, '_')\n          .match(/(?<=_).+$/gm)\n\n        const kindProp = kindMatch ? `'${kindMatch[0]}'` : 'undefined'\n\n        const result =\n          `// ${line}\\n` +\n          `interface ${typeName} {\\n` +\n          `  on: '${onProp}'\\n` +\n          `  kind: ${kindProp}\\n` +\n          `  UNSAFE: ${unsafe ? 'true' : 'false | undefined'}\\n` +\n          '}\\n'\n\n        return result\n      } else {\n        return ''\n      }\n    })\n    .join('\\n')\n    .replace(/^\\n{1,}/g, '')\n    .replace(/\\n$/g, '')\n\n  const typesUnion =\n    'type TextTypesUnionType = (\\n  | ' +\n    types.match(/(?<=interface )\\S+/gm)?.join('\\n  | ') +\n    '\\n)'\n\n  const result = typesUnion + '\\n\\n' + types\n\n  return result.replace(/\\n{3,}/gm, '\\n\\n')\n}\n","import React, { useEffect, useRef } from 'react'\nimport './Canvas.scss'\nimport { lch } from 'utils'\n\nexport const Canvas = React.memo(\n  ({ hue, size }: { hue: number; size: number }) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null)\n\n    useEffect(() => {\n      if (canvasRef.current) {\n        canvasRef.current.height = 100 * size // px\n        canvasRef.current.width = 150 * size //px\n\n        const canvasContext = canvasRef.current.getContext('2d')\n\n        if (canvasContext) {\n          const image = canvasContext.createImageData(1500, 1)\n          for (let L = 100 * size; L >= 0; L--) {\n            for (let C = 0; C < 150 * size; C++) {\n              const color = lch({ l: L / size, c: C / size, h: hue })\n              if (!color._rgb._clipped) {\n                image.data[C * 4 + 0] = color._rgb[0]\n                image.data[C * 4 + 1] = color._rgb[1]\n                image.data[C * 4 + 2] = color._rgb[2]\n                image.data[C * 4 + 3] = 255\n              } else {\n                image.data[C * 4 + 3] = 0\n              }\n            }\n            canvasContext.putImageData(image, 0, 100 * size - L)\n          }\n        }\n      }\n    })\n\n    // console.log('rendered - Canvas')\n\n    return (\n      <div\n        className=\"Canvas\"\n        style={{ height: `${100 * size}px`, width: `${150 * size}px` }}\n      >\n        <canvas className=\"Canvas__canvas\" ref={canvasRef}>\n          Your browser is not supported\n        </canvas>\n      </div>\n    )\n  }\n)\n","import { Slider } from '../../components'\nimport React from 'react'\nimport './ChromaLimitSlider.scss'\n\nexport const ChromaLimitSlider = ({\n  value,\n  size,\n  onChange,\n}: {\n  value: number\n  size: number\n  onChange: (value: number, diff: number) => void\n}) => {\n  return (\n    <div className=\"ChromaLimitSlider\">\n      <Slider\n        value={value}\n        min={0}\n        max={150}\n        width={150 * size + 'px'}\n        onChange={onChange}\n        renderBackground={() => <div className=\"ChromaLimitSlider__background\" />}\n      />\n    </div>\n  )\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { ActionType, LCHColor } from 'types'\nimport { getMaxChroma } from 'utils'\nimport './ChromaSlider.scss'\n\ntype ChromaSliderPropsType = {\n  color: LCHColor\n  scaleIndex: number\n  shadeIndex: number\n  onChange: (action: ActionType) => void\n  size: number\n  defaultShade?: boolean\n}\n\nexport const ChromaSlider = React.memo(\n  ({\n    color,\n    scaleIndex,\n    shadeIndex,\n    onChange,\n    size,\n    defaultShade,\n  }: ChromaSliderPropsType) => {\n    const [isDragging, setIsDragging] = useState(false)\n    const maxChroma = getMaxChroma(color)\n\n    const handleMouseDown = () => setIsDragging(true)\n    const handleMouseUp = useCallback(() => setIsDragging(false), [])\n    const handleMouseMove = useCallback(\n      (e: globalThis.MouseEvent) => {\n        let chromaChange = e.movementX / size\n        const max = e.shiftKey ? 150 : maxChroma\n        onChange({\n          changeType: 'chroma',\n          scaleIndex,\n          shadeIndex,\n          value: chromaChange,\n          min: 0,\n          max,\n        })\n      },\n      [size, scaleIndex, shadeIndex, maxChroma, onChange]\n    )\n    const handleKeyDown = useCallback(\n      (e: React.KeyboardEvent<HTMLDivElement>) => {\n        if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {\n          e.preventDefault() // stops page from scrolling on up/down arrow keys\n          let sign = e.key === 'ArrowLeft' ? -1 : 1\n          let chromaChange: number\n\n          if (e.altKey) chromaChange = 0.1 * sign\n          else if (e.shiftKey) chromaChange = 10 * sign\n          else chromaChange = 1 * sign\n\n          onChange({\n            changeType: 'chroma',\n            scaleIndex,\n            shadeIndex,\n            value: chromaChange,\n            min: 0,\n            max: maxChroma,\n          })\n        }\n      },\n      [scaleIndex, shadeIndex, maxChroma, onChange]\n    )\n\n    useEffect(() => {\n      if (isDragging) {\n        window.addEventListener('mousemove', handleMouseMove)\n        window.addEventListener('mouseup', handleMouseUp)\n      } else {\n        window.removeEventListener('mousemove', handleMouseMove)\n        window.removeEventListener('mouseup', handleMouseUp)\n      }\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove)\n        window.removeEventListener('mouseup', handleMouseUp)\n      }\n    }, [isDragging, handleMouseUp, handleMouseMove])\n\n    // console.log('rendered - ChromaSlider')\n\n    return (\n      <div\n        className={\n          'ChromaSlider' + (isDragging ? ' ChromaSlider--is-dragging' : '')\n        }\n        style={{ width: `${150 * size}px` }}\n        onMouseDown={handleMouseDown}\n        tabIndex={0}\n        onKeyDown={handleKeyDown}\n        data-slider-handle={`scale${scaleIndex}-point${shadeIndex}`}\n      >\n        <div\n          className={\n            'ChromaSlider__dot' +\n            (defaultShade ? ' ChromaSlider__dot--default-shade' : '')\n          }\n          style={{\n            left: `${color.c * size}px`,\n          }}\n        >\n          <div\n            className={\n              'ChromaSlider__tooltip' +\n              (defaultShade ? ' ChromaSlider__tooltip--default-shade' : '')\n            }\n          >\n            {color.c.toFixed(1)}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\n","import React, { useState } from 'react'\nimport './HueSliderBackground.scss'\nimport backgroundImage from './lch-hue-picker-background.png'\n\nexport const HueSliderBackground = ({ active }: { active: boolean }) => {\n  const [isHovered, setIsHovered] = useState(false)\n\n  return (\n    <div\n      className={\n        'HueSliderBackground' +\n        (!active && !isHovered ? ' HueSliderBackground--is-hidden' : '')\n      }\n      style={{ backgroundImage: `url(${backgroundImage})` }}\n      onMouseOver={() => setIsHovered(true)}\n      onMouseOut={() => setIsHovered(false)}\n    />\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAABCAYAAADzaTTzAAACDUlEQVQ4T4WUy3LbMAxFDyVZtuJxukg23fV7+5P9gi46aSxFL3QuADp2NtUMB5d4CbwkUOzy0ygblB3alM0GzQ7XJfS2ATvwH6k8iqv5lMfxBuOS8cpR1xrYVijCWvJbwGYoH8AVXoHnBo4GJ+CoVaAzOAAHYUlCtikdp63roFnDXqo9dfJpalwPZYaufPpVf+V98Fs+89V/ytfxXbzvuzjjrb5qz3Pc6gS71VeZKs7YjLEibGwUZmcsdGELBrVkE5PCYjFZdTnlXvqZwogxYYwU3oG/GG/Abwq/MOA7xjfgzIkLk19AvYjeL8Sc/J4SF5L7zvfmh4410DPSUpIIcyyCWoQlm8RGk7ZKuvYNAwcmGmSP+MAhi8u4qKoP3e4+Ijdswoob6BhzL+tu4fEEvOt56smISKIV6vUsdzrZpPeLymc5CztrcFUeJar50lcxNb/L/Mc9docv/meLnPpqnQ8++a9a167WFLsGS2Ld4Jj1et3ZWpPsFmdVGtUvHk4GH1u0mXKo/VZJvbMN+rQ/WeRVfPW51ZutL73zJz7XiN022NYv4+BuLDRqt1zXMcbDaYLpDfo/8GOG1xVeClwMnltQLZceTku8WK3zEY5rjBMfJXq5BYYhdP0Oxz2kzuqzb5hhVMescFhgTqziNd/6FSbpct7p8K36fYMPdeP97EwSNG/bHTQnpzofH+fsP8oiFamZN+GfAAAAAElFTkSuQmCC\"","import { IconButton } from '../../components'\nimport React, { CSSProperties, useEffect, useRef, useState } from 'react'\nimport './Output.scss'\nimport { faClipboard } from '@fortawesome/pro-light-svg-icons'\n\nexport const Output = ({\n  heading,\n  content,\n  style,\n}: {\n  heading: string\n  content: string\n  style?: CSSProperties\n}) => {\n  const ref = useRef<HTMLTextAreaElement>(null)\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  const timeoutRef = useRef<number>()\n\n  useEffect(() => {\n    return () => clearTimeout(timeoutRef.current)\n  }, [])\n\n  const copyToClipboard = (copyText: HTMLTextAreaElement) => {\n    copyText.select()\n    copyText.setSelectionRange(0, 99999) /* For mobile devices */\n    document.execCommand('copy')\n    copyText.setSelectionRange(0, 0)\n    setShowConfirm(true)\n\n    const id = window.setTimeout(() => setShowConfirm(false), 1500)\n    timeoutRef.current = id\n  }\n\n  return (\n    <div\n      className={'Output' + (showConfirm ? ' Output--is-confirming' : '')}\n      style={style}\n    >\n      <div className=\"Output__heading\">\n        <div>{heading}</div>\n        <div className=\"Output__button\">\n          <IconButton\n            onClick={() => {\n              if (ref.current) {\n                copyToClipboard(ref.current)\n              }\n            }}\n            // icon=\"clipboard\"\n            faIcon={faClipboard}\n          />\n          <div className=\"Output__confirmation\">copied</div>\n        </div>\n      </div>\n\n      <div className=\"Output__output\">\n        <textarea\n          className=\"Output__textarea\"\n          readOnly\n          value={content}\n          ref={ref}\n        />\n      </div>\n    </div>\n  )\n}\n","import { Output } from '../../components'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { StateType } from 'types'\nimport {\n  parseDefaults,\n  parseScaleShades,\n  // convertTokenOutputToTypes,\n} from 'utils'\nimport { VividTextColorsForGreyShadeType } from 'utils/extractVividTextColorsForGreyScale'\nimport { TextColorsType } from 'utils/getDerivedColors'\nimport { staticTokens } from 'config'\nimport './Outputs.scss'\n\nexport const Outputs = ({\n  state,\n  textColors,\n  vividTextColorsForGreyShades,\n}: {\n  state: StateType\n  textColors: TextColorsType[]\n  vividTextColorsForGreyShades: VividTextColorsForGreyShadeType[]\n}) => {\n  const makeGap = (str: string, printLength: number) => {\n    const gap =\n      str.length < printLength ? ' '.repeat(printLength - str.length) : ''\n    return gap\n  }\n\n  const cssPaletteColors =\n    `  --color-white: ${' '.repeat(42)} #ffffff;\\n\\n` +\n    `${parseScaleShades(state.scales, (scale) => {\n      const gap = makeGap(scale.scaleNameKebab, 43)\n      return `  --color-${scale.scaleNameKebab}-${scale.shadeName}: ${gap} ${scale.colorHex};`\n    })}\\n`\n\n  const cssPaletteColorDefaults = `${parseDefaults(state.scales, (x) => {\n    const gap = makeGap(x.scaleNameKebab, 21)\n    return (\n      // palette colors\n      `  --color-${x.scaleNameKebab}-lighter:                                    ${gap} var(--color-${x.scaleNameKebab}-${x.lighterShadeName});\\n` +\n      `  --color-${x.scaleNameKebab}:                                            ${gap} var(--color-${x.scaleNameKebab}-${x.defaultShadeName});\\n` +\n      `  --color-${x.scaleNameKebab}-darker:                                     ${gap} var(--color-${x.scaleNameKebab}-${x.darkerShadeName});\\n` +\n      // text colors lighter\n      `  --text-on-${x.scaleNameKebab}-lighter:                                  ${gap} var(--text-on-${x.scaleNameKebab}-${x.lighterShadeName});\\n` +\n      `  --text-on-${x.scaleNameKebab}-lighter--subdued--UNSAFE:                 ${gap} var(--text-on-${x.scaleNameKebab}-${x.lighterShadeName}--subdued--UNSAFE);\\n` +\n      `  --text-on-${x.scaleNameKebab}-lighter--vivid:                           ${gap} var(--text-on-${x.scaleNameKebab}-${x.lighterShadeName}--vivid);\\n` +\n      `  --text-on-${x.scaleNameKebab}-lighter--vivid-subdued--UNSAFE:           ${gap} var(--text-on-${x.scaleNameKebab}-${x.lighterShadeName}--vivid-subdued--UNSAFE);\\n` +\n      // text colors regular\n      `  --text-on-${x.scaleNameKebab}:                                          ${gap} var(--text-on-${x.scaleNameKebab}-${x.defaultShadeName});\\n` +\n      `  --text-on-${x.scaleNameKebab}--subdued--UNSAFE:                         ${gap} var(--text-on-${x.scaleNameKebab}-${x.defaultShadeName}--subdued--UNSAFE);\\n` +\n      `  --text-on-${x.scaleNameKebab}--vivid:                                   ${gap} var(--text-on-${x.scaleNameKebab}-${x.defaultShadeName}--vivid);\\n` +\n      `  --text-on-${x.scaleNameKebab}--vivid-subdued--UNSAFE:                   ${gap} var(--text-on-${x.scaleNameKebab}-${x.defaultShadeName}--vivid-subdued--UNSAFE);\\n` +\n      // text colors darker\n      `  --text-on-${x.scaleNameKebab}-darker:                                   ${gap} var(--text-on-${x.scaleNameKebab}-${x.darkerShadeName});\\n` +\n      `  --text-on-${x.scaleNameKebab}-darker--subdued--UNSAFE:                  ${gap} var(--text-on-${x.scaleNameKebab}-${x.darkerShadeName}--subdued--UNSAFE);\\n` +\n      `  --text-on-${x.scaleNameKebab}-darker--vivid:                            ${gap} var(--text-on-${x.scaleNameKebab}-${x.darkerShadeName}--vivid);\\n` +\n      `  --text-on-${x.scaleNameKebab}-darker--vivid-subdued--UNSAFE:            ${gap} var(--text-on-${x.scaleNameKebab}-${x.darkerShadeName}--vivid-subdued--UNSAFE);\\n`\n    )\n  }).join('\\n')}` //.slice(0, -1)\n\n  const cssTextColors = textColors\n    .slice(1) // skip the first scale (grey) because it's text colors are parsed separately below\n    .reduce((stringOutput: string, scale) => {\n      const newString = scale.shades\n        .map((shade, shadeIndex) => {\n          if (shadeIndex === 0) {\n            return ''\n          }\n          const len = 54\n          // prettier-ignore\n          return (\n            `  --${shade.textColor.tokenName}:${makeGap(shade.textColor.tokenName, len)} ${shade.textColor.hex};\\n` + \n            `  --${shade.textColorSubdued.tokenName}:${makeGap(shade.textColorSubdued.tokenName, len)} ${shade.textColorSubdued.hex};\\n` +\n            `  --${shade.vividTextColor.tokenName}:${makeGap(shade.vividTextColor.tokenName, len)} ${shade.vividTextColor.hex};\\n` +\n            `  --${shade.vividTextColorSubdued.tokenName}:${makeGap(shade.vividTextColorSubdued.tokenName, len)} ${shade.vividTextColorSubdued.hex};\\n`\n          )\n        })\n        .join('\\n')\n      return stringOutput + '\\n' + newString\n    }, '')\n\n  const cssTextColorsOnGrey = vividTextColorsForGreyShades.reduce(\n    (prevTokens: string, vividtextColorsOnGrey, shadeIndex) => {\n      const len = 44\n      const greyOnGreyShade = textColors[0].shades[shadeIndex].textColor\n      const greyOnGreyShadeSubdued =\n        textColors[0].shades[shadeIndex].textColorSubdued\n\n      // prettier-ignore\n      const newTokens =\n        `  --${greyOnGreyShade.tokenName}:${makeGap(greyOnGreyShade.tokenName, len)} ${greyOnGreyShade.hex};\\n` +\n        `  --${greyOnGreyShadeSubdued.tokenName}:${makeGap(greyOnGreyShadeSubdued.tokenName,len)} ${greyOnGreyShadeSubdued.hex};\\n` +\n        vividtextColorsOnGrey.vividTextColorSets\n        .map((textColorSet) => {\n          const { tokenName: token, hex } = textColorSet.vividTextColor\n          const { tokenName: tokenSubdued, hex: hexSubdued } = textColorSet.vividTextColorSubdued\n          return (\n            `  --${token}:${makeGap(token, len)} ${hex};\\n` +\n            `  --${tokenSubdued}:${makeGap(tokenSubdued, len)} ${hexSubdued};`\n          )\n        }).join('\\n')\n\n      return prevTokens + '\\n' + newTokens + '\\n'\n    },\n    ''\n  )\n\n  const cssCombined = (\n    `${cssPaletteColors}\\n` +\n    `${cssTextColors}\\n` +\n    `${cssTextColorsOnGrey}\\n` +\n    `${cssPaletteColorDefaults}\\n` +\n    `${staticTokens}`\n  ).replace(/\\n{3,}/g, '\\n\\n')\n\n  const tokenRegEx = / {2}--(.+): .*$/gm\n  const sassReplacer = (match: string, captureGroup1: string) => {\n    const _ = makeGap(captureGroup1, 45)\n    return `$${captureGroup1}: ${_} var(--${captureGroup1});`\n  }\n\n  const sassCombined = cssCombined.replace(tokenRegEx, sassReplacer)\n\n  const hasInvalidScaleName = state.scales.some(\n    (scale) => scale.scaleName.match(/\\s/) !== null\n  )\n  const hasInvalidPaletteColors = cssCombined.match('undefined') !== null\n\n  const errorMsg =\n    (hasInvalidScaleName\n      ? 'One of your scales has an invalid name. \\nScale names must not contain spaces.\\n\\n'\n      : '') +\n    (hasInvalidPaletteColors\n      ? 'Your palette has invalid colors. \\nPlease reduce the chroma on each\\nmissing palette color above.\\n\\n'\n      : '')\n\n  const cssRootRule = `:root{\\n${cssCombined}}\\n`\n\n  // const typeScriptTypes = convertTokenOutputToTypes(cssCombined)\n\n  return (\n    <div className=\"Outputs\">\n      <Output\n        heading=\"CSS Variables\"\n        content={!!errorMsg ? errorMsg : cssRootRule}\n      />\n      {/* <Output heading=\"TypeScript Types\" content={typeScriptTypes} /> */}\n      <Output\n        heading=\"Sass Aliases\"\n        content={!!errorMsg ? errorMsg : sassCombined}\n      />\n      <Output\n        heading=\"Config\"\n        content={JSON.stringify(state, null, 2) + '\\n'}\n        style={{ maxWidth: '420px' }}\n      />\n      {ReactDOM.createPortal(<style>{cssRootRule}</style>, document.head)}\n    </div>\n  )\n}\n","export const staticTokens = `\n  --pixels-1:                                                                0.0625rem;\n  --pixels-2:                                                                0.125rem;\n  --pixels-3:                                                                0.1875rem;\n  --pixels-4:                                                                0.25rem;\n  --pixels-5:                                                                0.3125rem;\n  --pixels-6:                                                                0.375rem;\n  --pixels-7:                                                                0.4375rem;\n  --pixels-8:                                                                0.5rem;\n\n  --text-size-xs:                                                            0.75rem;\n  --text-size-s:                                                             0.875rem;\n  --text-size-m:                                                             1rem;\n  --text-size-l:                                                             1.125rem;\n  --text-size-xl:                                                            1.25rem;\n  --text-size-xxl:                                                           1.375rem;\n  --text-size-xxxl:                                                          1.625rem;\n\n  --border-radius-xs:                                                        0.125rem;\n  --border-radius-s:                                                         0.25rem;\n  --border-radius-m:                                                         0.5rem;\n  --border-radius-l:                                                         0.75rem;\n  --border-radius-xl:                                                        1rem;\n\n  --text-weight-bold:                                                        700;\n  --text-weight-normal:                                                      600;\n  --text-weight-light:                                                       300;\n\n  --transition-150:                                                          150ms cubic-bezier(0.25, 0.8, 0.25, 1);\n  --transition-300:                                                          300ms cubic-bezier(0.25, 0.8, 0.25, 1);\n\n  --border-width-thin:                                                       0.0625rem;\n  --border-width-default:                                                    0.125rem;\n\n  --focus-ring:                                                              0 0 0 3px rgba(0, 81, 255, 0.5);\n  --focus-ring-inset:                                                        0 0 0 3px inset rgba(0, 81, 255, 0.5);\n\n  --box-shadow-100:                                                          0 0    3px  rgba(0, 0, 0, 0.02),     0 1px  3px  rgba(0, 0, 0, 0.04),   0 1px  2px  rgba(0, 0, 0, 0.08);\n  --box-shadow-100-dark:                                                     0 1px  3px  rgba(0, 0, 0, 0.12),     0 1px  2px  rgba(0, 0, 0, 0.24);\n  --box-shadow-100-focus:                0 0 0 3px rgba(0, 81, 255, 0.5),    0 1px  3px  rgba(0, 0, 0, 0.12),     0 1px  2px  rgba(0, 0, 0, 0.24);\n  --box-shadow-200:                                                          0 0    6px  rgba(0, 0, 0, 0.02665),  0 3px  6px  rgba(0, 0, 0, 0.0533), 0 3px  6px  rgba(0, 0, 0, 0.0766);\n  --box-shadow-200-dark:                                                     0 3px  6px  rgba(0, 0, 0, 0.16),     0 3px  6px  rgba(0, 0, 0, 0.23);\n  --box-shadow-200-focus:                0 0 0 3px rgba(0, 81, 255, 0.5),    0 3px  6px  rgba(0, 0, 0, 0.16),     0 3px  6px  rgba(0, 0, 0, 0.23);\n  --box-shadow-300:                                                          0 0    20px rgba(0, 0, 0, 0.03165),  0 10px 20px rgba(0, 0, 0, 0.0633), 0 6px  6px  rgba(0, 0, 0, 0.0766);\n  --box-shadow-300-dark:                                                     0 10px 20px rgba(0, 0, 0, 0.19),     0 6px  6px  rgba(0, 0, 0, 0.23);\n  --box-shadow-300-focus:                0 0 0 3px rgba(0, 81, 255, 0.5),    0 10px 20px rgba(0, 0, 0, 0.19),     0 6px  6px  rgba(0, 0, 0, 0.23);\n  --box-shadow-400:                                                          0 0    28px rgba(0, 0, 0, 0.04165),  0 14px 28px rgba(0, 0, 0, 0.0833), 0 10px 10px rgba(0, 0, 0, 0.0733);\n  --box-shadow-400-dark:                                                     0 14px 28px rgba(0, 0, 0, 0.25),     0 10px 10px rgba(0, 0, 0, 0.22);\n  --box-shadow-400-focus:                0 0 0 3px rgba(0, 81, 255, 0.5),    0 14px 28px rgba(0, 0, 0, 0.25),     0 10px 10px rgba(0, 0, 0, 0.22);\n  --box-shadow-500:                                                          0 0    38px rgba(0, 0, 0, 0.05),     0 19px 38px rgba(0, 0, 0, 0.1),    0 15px 12px rgba(0, 0, 0, 0.0733);\n  --box-shadow-500-dark:                                                     0 19px 38px rgba(0, 0, 0, 0.3),      0 15px 12px rgba(0, 0, 0, 0.22);\n  --box-shadow-500-focus:                0 0 0 3px rgba(0, 81, 255, 0.5),    0 19px 38px rgba(0, 0, 0, 0.3),      0 15px 12px rgba(0, 0, 0, 0.22);\n`\n","import React, { ReactNode } from 'react'\nimport './Plotter.scss'\nimport { Canvas } from '../../components'\n\nimport { ScaleType } from 'types'\n\nexport const Plotter = React.memo(\n  ({\n    scale,\n    size,\n    children,\n  }: {\n    scale: ScaleType\n    size: number\n    children: ReactNode\n  }) => {\n    // console.log('rendered - Plotter')\n    return (\n      <div className=\"Plotter\">\n        <div\n          className=\"Plotter__points\"\n          style={{ width: 150 * size + 'px', height: 100 * size + 'px' }}\n        >\n          {children}\n        </div>\n\n        <Canvas hue={scale.hue} size={size} />\n      </div>\n    )\n  }\n)\n","import React, { useState } from 'react'\nimport './ScaleGenerator.scss'\nimport {\n  Plotter,\n  Slider,\n  Swatch,\n  HueSliderBackground,\n  ChromaLimitSlider,\n  TargetColorInput,\n  IconButton,\n  ChromaSlider,\n} from '../../components'\nimport { ScaleType, ActionType } from 'types'\nimport { shadeNames, luminances } from 'config'\nimport chromajs from 'chroma-js'\nimport {\n  faArrowToRight,\n  faArrowToLeft,\n  faUndo,\n  faFillDrip,\n} from '@fortawesome/pro-light-svg-icons'\nimport {\n  getMaxChroma,\n  lch,\n  TextColorsType,\n  VividTextColorsForGreyShadeType,\n} from 'utils'\n\nexport const ScaleGenerator = React.memo(\n  ({\n    scale,\n    scaleTextColors,\n    vividTextColorsForGreyShades,\n    onChange,\n    size,\n    scaleIndex,\n    showTextPlots,\n    showTextDetails,\n    showColorOutputs,\n    showTextChromaControls,\n    showText,\n  }: {\n    scale: ScaleType\n    scaleTextColors: TextColorsType\n    vividTextColorsForGreyShades?: VividTextColorsForGreyShadeType[]\n    onChange: (action: ActionType) => void\n    size: number\n    scaleIndex: number\n    showTextPlots: boolean\n    showTextDetails: boolean\n    showColorOutputs: boolean\n    showTextChromaControls: boolean\n    showText: boolean\n  }) => {\n    const handleSnapChroma = (value: number) => {\n      scale.chromas.forEach((chroma, shadeIndex) => {\n        const maxChroma = getMaxChroma({\n          l: luminances[shadeIndex],\n          c: chroma,\n          h: scale.hue,\n        })\n        onChange({\n          changeType: 'chroma',\n          scaleIndex: scaleIndex,\n          shadeIndex: shadeIndex,\n          value: value,\n          min: 0,\n          max: maxChroma,\n        })\n      })\n    }\n\n    const handleChromaReset = () => {\n      scale.chromas.forEach(() => {\n        onChange({\n          changeType: 'chromaReset',\n          scaleIndex: scaleIndex,\n          value: 0,\n        })\n      })\n    }\n\n    const handleHueChange = (value: number, diff: number) => {\n      onChange({ changeType: 'hue', scaleIndex, value: diff, min: 0, max: 360 })\n    }\n\n    const handleTextChromaChange = (value: number, diff: number) => {\n      onChange({\n        changeType: 'chromaticTextChroma',\n        scaleIndex,\n        value: diff,\n        min: 0,\n        max: 150,\n      })\n    }\n    const handleVividTextChromaChange = (value: number, diff: number) => {\n      onChange({\n        changeType: 'vividTextChroma',\n        scaleIndex,\n        value: diff,\n        min: 0,\n        max: 150,\n      })\n    }\n\n    const [showTargetColorInput, setShowTargetColorInput] = useState(false)\n    const handleToggleTargetColorInput = () => {\n      setShowTargetColorInput(!showTargetColorInput)\n    }\n\n    // console.log('rendered - ScaleGenerator')\n\n    const targetColor = (() => {\n      if (scale.targetColorString) {\n        try {\n          const c = chromajs(scale.targetColorString)\n          return { lch: lch(c.lch()), hex: c.hex() }\n        } catch (error) {\n          return null\n        }\n      }\n    })()\n\n    return (\n      <div className=\"ScaleGenerator\">\n        <div className=\"ScaleGenerator__points\">\n          <div\n            className=\"ScaleGenerator__target-color-sample\"\n            style={{ backgroundColor: scale.targetColorString }}\n          />\n          <div className=\"ScaleGenerator__target-color-nickname\">\n            {scale.targetColorNickname}\n          </div>\n          <div className=\"ScaleGenerator__toolbar\">\n            <div className=\"ScaleGenerator__buttons\">\n              <div\n                className=\"ScaleGenerator__button\"\n                style={{ position: 'relative' }}\n              >\n                <IconButton\n                  onClick={handleToggleTargetColorInput}\n                  faIcon={faFillDrip}\n                  title=\"Enter a target color for this scale\"\n                />\n                {showTargetColorInput && (\n                  <div className=\"ScaleGenerator__target-color-input\">\n                    <TargetColorInput\n                      value={scale.targetColorString || ''}\n                      scaleIndex={scaleIndex}\n                      onChange={onChange}\n                      onBlur={() => setShowTargetColorInput(false)}\n                    />\n                  </div>\n                )}\n              </div>\n              <div\n                className=\"ScaleGenerator__button\"\n                style={{ marginLeft: 'auto' }}\n              >\n                <IconButton\n                  onClick={handleChromaReset}\n                  faIcon={faUndo}\n                  title=\"Reset chromas to a curve that is safe for all hues\"\n                />\n              </div>\n              <div className=\"ScaleGenerator__button\">\n                <IconButton\n                  onClick={() => handleSnapChroma(-150)}\n                  faIcon={faArrowToLeft}\n                  title=\"Snap all chromas to zero\"\n                />\n              </div>\n              <div className=\"ScaleGenerator__button\">\n                <IconButton\n                  onClick={() => handleSnapChroma(150)}\n                  faIcon={faArrowToRight}\n                  title=\"Snap all chromas to maximum\"\n                />\n              </div>\n            </div>\n            {showTextChromaControls && (\n              <div className=\"ScaleGenerator__toolbar-sliders\">\n                <div className=\"ScaleGenerator__toolbar-slider\">\n                  <div>reg</div>\n                  <ChromaLimitSlider\n                    value={scale.chromaticTextChroma}\n                    onChange={handleTextChromaChange}\n                    size={size}\n                  />\n                </div>\n                <div className=\"ScaleGenerator__toolbar-slider\">\n                  <div>vivid</div>\n                  <ChromaLimitSlider\n                    value={scale.vividTextChroma}\n                    onChange={handleVividTextChromaChange}\n                    size={size}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"ScaleGenerator__plot\">\n            <div className=\"ScaleGenerator__chroma-details\">\n              {shadeNames.map((shadeName, index) =>\n                index === 0 ? null : (\n                  <div\n                    className=\"ScaleGenerator__chroma-detail\"\n                    key={index}\n                    style={{ top: `${(100 - luminances[index]) * size}px` }}\n                  >\n                    {shadeName}\n                  </div>\n                )\n              )}\n            </div>\n\n            <Plotter scale={scale} size={size}>\n              {targetColor && (\n                <div\n                  className=\"ScaleGenerator__target-color-crosshairs\"\n                  style={{\n                    left: `${Math.round(targetColor.lch.c * size)}px`,\n                    top: `${(100 - Math.round(targetColor.lch.l)) * size}px`,\n                    backgroundColor: targetColor.hex,\n                  }}\n                />\n              )}\n              <div\n                className=\"ScaleGenerator__limit-line\"\n                style={{ left: `${scale.chromaticTextChroma * size}px` }}\n              />\n              <div\n                className=\"ScaleGenerator__limit-line\"\n                style={{ left: `${scale.vividTextChroma * size}px` }}\n              />\n              {scale.chromas.map((chroma, shadeIndex) =>\n                shadeIndex === 0 ? null : (\n                  <div\n                    className=\"ScaleGenerator__point\"\n                    key={shadeIndex}\n                    style={{\n                      width: `${150 * size}px`,\n                      top: `${(100 - luminances[shadeIndex]) * size}px`,\n                    }}\n                  >\n                    <ChromaSlider\n                      scaleIndex={scaleIndex}\n                      shadeIndex={shadeIndex}\n                      color={{\n                        l: luminances[shadeIndex],\n                        c: scale.chromas[shadeIndex],\n                        h: scale.hue,\n                      }}\n                      onChange={onChange}\n                      size={size}\n                      defaultShade={scale.defaultShade === shadeIndex}\n                    />\n                  </div>\n                )\n              )}\n            </Plotter>\n          </div>\n          <div className=\"ScaleGenerator__footer\">\n            <div className=\"ScaleGenerator__hue\">h: {scale.hue.toFixed(1)}</div>\n            <div\n              className=\"ScaleGenerator__hue-slider\"\n              onKeyPress={() => handleSnapChroma(150)}\n            >\n              <Slider\n                value={scale.hue}\n                min={0}\n                max={360}\n                width={150 * size + 'px'}\n                onChange={handleHueChange}\n                renderBackground={(isDragging) => (\n                  <HueSliderBackground active={isDragging} />\n                )}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"ScaleGenerator__swatches\">\n          {scale.chromas.map((_, shadeIndex) => (\n            <Swatch\n              scale={scale}\n              shadeTextColors={scaleTextColors.shades[shadeIndex]}\n              vividTextColorsForGreyShade={\n                vividTextColorsForGreyShades?.[shadeIndex]\n              }\n              shadeIndex={shadeIndex}\n              scaleIndex={scaleIndex}\n              key={shadeIndex}\n              showTextPlots={showTextPlots}\n              showTextDetails={showTextDetails}\n              showColorOutputs={showColorOutputs}\n              showText={showText}\n              defaultShade={scale.defaultShade === shadeIndex}\n              onChange={onChange}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  }\n)\n","import React, { ReactNode, useEffect, useRef, useState } from 'react'\nimport './Slider.scss'\n\nexport const Slider = React.memo(\n  ({\n    value,\n    min,\n    max,\n    width,\n    renderHandle,\n    renderBackground,\n    onChange,\n  }: {\n    value: number\n    min: number\n    max: number\n    width?: string\n    renderHandle?: (isDragging: boolean) => ReactNode\n    renderBackground?: (isDragging: boolean) => ReactNode\n    onChange: (value: number, diff: number) => void\n  }) => {\n    const [isDragging, setIsDragging] = useState(false)\n    const ref = useRef<HTMLDivElement>(null)\n\n    const handleMouseDown = () => setIsDragging(true)\n\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {\n        e.preventDefault()\n        let sign = e.key === 'ArrowLeft' ? -1 : 1\n\n        let diff: number\n        let val: number\n\n        if (e.altKey) {\n          diff = 0.1 * sign\n        } else if (e.shiftKey) {\n          diff = 10 * sign\n        } else {\n          diff = 1 * sign\n        }\n\n        val = value + diff\n\n        if (val < min) val = min\n        if (val > max) val = max\n        onChange(val, diff)\n      }\n    }\n\n    useEffect(() => {\n      const handleMouseUp = () => setIsDragging(false)\n\n      const handleMouseMove = (e: globalThis.MouseEvent) => {\n        if (ref.current) {\n          const changePercentage =\n            e.movementX / ref.current.getBoundingClientRect().width\n          const diff = changePercentage * (max - min)\n          let val = value + diff\n          if (val > max) val = max\n          if (val < min) val = min\n          onChange(val, diff)\n        }\n      }\n\n      if (isDragging) {\n        window.addEventListener('mousemove', handleMouseMove)\n        window.addEventListener('mouseup', handleMouseUp)\n      } else {\n        window.removeEventListener('mousemove', handleMouseMove)\n        window.removeEventListener('mouseup', handleMouseUp)\n      }\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove)\n        window.removeEventListener('mouseup', handleMouseUp)\n      }\n    }, [isDragging, value, onChange, ref, min, max])\n\n    return (\n      <div\n        className=\"Slider\"\n        onMouseDown={handleMouseDown}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        ref={ref}\n        style={{ width }}\n      >\n        {!!renderBackground && renderBackground(isDragging)}\n        {!!renderHandle ? (\n          renderHandle(isDragging)\n        ) : (\n          <div\n            className=\"Slider__handle\"\n            style={{\n              left: `${(value / (max - min)) * 100}%`,\n            }}\n          />\n        )}\n      </div>\n    )\n  }\n)\n","import { TextSamples } from '../../components'\nimport { luminances, shadeNames } from 'config'\nimport React from 'react'\nimport { ActionType, ScaleType } from 'types'\nimport { VividTextColorsForGreyShadeType } from 'utils/extractVividTextColorsForGreyScale'\nimport { ChromaticShadeTextColorsType } from 'utils/getDerivedColors'\nimport './Swatch.scss'\nimport { lch } from 'utils'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck } from '@fortawesome/pro-solid-svg-icons'\n\nexport const Swatch = ({\n  scale,\n  shadeTextColors,\n  vividTextColorsForGreyShade,\n  shadeIndex,\n  scaleIndex,\n  showTextPlots,\n  showTextDetails,\n  showColorOutputs,\n  showText,\n  defaultShade,\n  onChange,\n}: {\n  scale: ScaleType\n  shadeTextColors: ChromaticShadeTextColorsType\n  vividTextColorsForGreyShade?: VividTextColorsForGreyShadeType\n  shadeIndex: number\n  scaleIndex: number\n  showTextPlots: boolean\n  showTextDetails: boolean\n  showColorOutputs: boolean\n  showText: boolean\n  defaultShade: boolean\n  onChange: (action: ActionType) => void\n}) => {\n  const chroma = scale.chromas[shadeIndex]\n  const bgColorLCH = {\n    l: luminances[shadeIndex],\n    c: chroma,\n    h: scale.hue,\n  }\n  const color = lch(bgColorLCH)\n  const swatchBGColor = color._rgb._clipped ? undefined : color.hex()\n\n  const handleMakeDefaultShade = () => {\n    onChange({ changeType: 'defaultShade', scaleIndex, shadeIndex })\n  }\n\n  if (!showText && shadeIndex === 0) return null\n  const flexBasis = `${\n    (1 / (!showText ? scale.chromas.length - 1 : scale.chromas.length)) * 100\n  }%`\n\n  const black = '#1e1e1e'\n\n  return (\n    <div\n      key={shadeIndex}\n      className={\n        'Swatch' +\n        (!swatchBGColor ? '  Swatch--is-impossible-color' : '') +\n        (shadeIndex !== 0 && scaleIndex !== 0\n          ? ' Swatch--is-eligible-as-default'\n          : '') +\n        (shadeIndex !== 0 && scaleIndex !== 0 ? ' Swatch--is-clickable' : '') +\n        (defaultShade ? ' Swatch--is-default-shade' : '') +\n        (scale.scaleName === 'Grey' ? ' Swatch--grey-scale' : '')\n      }\n      style={{\n        color: swatchBGColor ? shadeTextColors.textColor.hex : black,\n        backgroundColor: swatchBGColor,\n        flexBasis,\n      }}\n    >\n      {(scaleIndex === 0 || shadeIndex > 0) && ( // only show the first shade (white) for the grey scale\n        <>\n          <div className=\"Swatch__label\">\n            <span>\n              {scaleIndex === 0 && shadeIndex === 0 ? 'White' : scale.scaleName}\n            </span>\n\n            {!(scaleIndex === 0 && shadeIndex === 0) && (\n              <span>{shadeNames[shadeIndex]}</span>\n            )}\n          </div>\n          {scaleIndex !== 0 && (\n            <div\n              className=\"Swatch__check-wrapper\"\n              style={{\n                color: swatchBGColor || 'white',\n              }}\n              onClick={handleMakeDefaultShade}\n            >\n              <div\n                className=\"Swatch__check-background\"\n                style={{\n                  backgroundColor: swatchBGColor\n                    ? shadeTextColors.textColor.hex\n                    : black,\n                }}\n              />\n              <FontAwesomeIcon className=\"Swatch__check-icon\" icon={faCheck} />\n            </div>\n          )}\n\n          {swatchBGColor && showText && (\n            <TextSamples\n              bgColorHex={swatchBGColor}\n              shadeTextColors={shadeTextColors}\n              vividTextColorsForGreyShade={vividTextColorsForGreyShade}\n              showPlot={showTextPlots}\n              showDetails={showTextDetails}\n              shadeIndex={shadeIndex}\n            />\n          )}\n          {showColorOutputs && (\n            <div className=\"Swatch__outputs\">\n              <div>{swatchBGColor}</div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n","import { repositionToTop } from './repositionToTop'\n\nexport const repositionTooltip = (\n  triggerNode: HTMLElement | SVGElement | null,\n  tooltipNode: HTMLDivElement | null,\n  tooltipBodyNode: HTMLDivElement | null,\n  tooltipArrowNode: HTMLDivElement | null,\n  paddingInPixels: number,\n  arrowSizeInRems: number\n) => {\n  if (triggerNode && tooltipNode && tooltipBodyNode && tooltipArrowNode) {\n    const trigRect = triggerNode.getBoundingClientRect()\n    const tipRect = tooltipNode.getBoundingClientRect()\n\n    const arrowSizeInPixels =\n      arrowSizeInRems *\n      parseFloat(getComputedStyle(document.documentElement).fontSize)\n\n    repositionToTop(\n      tooltipNode,\n      tooltipBodyNode,\n      tooltipArrowNode,\n      paddingInPixels,\n      arrowSizeInPixels,\n      trigRect,\n      tipRect\n    )\n  }\n}\n","export const repositionToTop = (\n  tooltipNode: HTMLDivElement,\n  tooltipBodyNode: HTMLDivElement,\n  tooltipArrowNode: HTMLDivElement,\n  paddingInPixels: number,\n  arrowSizeInPixels: number,\n  trigRect: DOMRect,\n  tipRect: DOMRect\n) => {\n  // position the tooltip\n  const newTip = {\n    top: Math.round(trigRect.y - tipRect.height),\n    left: Math.round(trigRect.x + trigRect.width / 2 - tipRect.width / 2),\n  }\n\n  // offset the tooltip body\n  if (tooltipBodyNode) {\n    const tooFarLeft = newTip.left < paddingInPixels\n    const tooFarRight =\n      trigRect.left + trigRect.width / 2 + tipRect.width / 2 >\n      window.innerWidth - paddingInPixels\n\n    if (tooFarLeft) {\n      tooltipBodyNode.style.right = ''\n      tooltipBodyNode.style.left =\n        Math.abs(newTip.left) + paddingInPixels + 'px'\n    } else if (tooFarRight) {\n      tooltipBodyNode.style.left = ''\n      const amountOfRightsideOverflow = Math.ceil(\n        Math.abs(trigRect.left) +\n          trigRect.width / 2 +\n          tipRect.width / 2 -\n          window.innerWidth\n      )\n      tooltipBodyNode.style.left =\n        -amountOfRightsideOverflow - paddingInPixels + 'px'\n    } else {\n      tooltipBodyNode.style.right = ''\n      tooltipBodyNode.style.left = ''\n    }\n\n    tooltipNode.style.top = newTip.top + 'px'\n    tooltipNode.style.left = newTip.left + 'px'\n    tooltipNode.style.paddingBottom = arrowSizeInPixels + 'px'\n    tooltipArrowNode.style.bottom = '0'\n  }\n}\n","import React, {\n  cloneElement,\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useRef,\n} from 'react'\nimport { createPortal } from 'react-dom'\nimport './Tooltip.scss'\nimport { repositionTooltip } from './repositionTooltip'\n\ntype PositionType = 'top' | 'bottom' | 'left' | 'right'\n\ntype TooltipPropsType = {\n  children: ReactElement\n  content: ReactNode\n  position?: PositionType[]\n  active: boolean\n  onTriggerMove?: () => void\n  onClickOutside?: () => void\n}\n\nexport const Tooltip = ({\n  children,\n  content,\n  position,\n  active,\n  onTriggerMove,\n  onClickOutside,\n}: TooltipPropsType) => {\n  const triggerRef = useRef<HTMLElement | SVGElement>(null)\n  const tooltipRef = useRef<HTMLDivElement>(null)\n  const tooltipBodyRef = useRef<HTMLDivElement>(null)\n  const tooltipArrowRef = useRef<HTMLDivElement>(null)\n\n  const paddingInPixels = 2 // pixels\n  const arrowSizeInRems = 0.5 // rems\n\n  const defaultPositions = ['top', 'left', 'right', 'bottom'] as PositionType[]\n\n  const configuredPositions: PositionType[] = []\n\n  if (!position) {\n    configuredPositions.push(...defaultPositions)\n  } else {\n  }\n\n  const resizeObserver = new ResizeObserver(() => {\n    repositionTooltip(\n      triggerRef.current,\n      tooltipRef.current,\n      tooltipBodyRef.current,\n      tooltipArrowRef.current,\n      paddingInPixels,\n      arrowSizeInRems\n    )\n  })\n\n  const mutationObserverConfig = {\n    attributes: true,\n    childList: true,\n    subtree: true,\n  }\n  const mutationObserverCallback = (mutationsList: MutationRecord[]) => {\n    mutationsList.forEach((mutation) => {\n      if (\n        !(\n          (mutation.target instanceof HTMLElement ||\n            mutation.target instanceof SVGElement) &&\n          (mutation.target.classList.contains('Tooltip') ||\n            mutation.target.classList.contains('Tooltip__body'))\n        )\n      ) {\n        repositionTooltip(\n          triggerRef.current,\n          tooltipRef.current,\n          tooltipBodyRef.current,\n          tooltipArrowRef.current,\n          paddingInPixels,\n          arrowSizeInRems\n        )\n      }\n    })\n  }\n  const mutationObserver = new MutationObserver(mutationObserverCallback)\n\n  useEffect(() => {\n    const triggerNode = triggerRef.current\n    const tooltipNode = tooltipRef.current\n    const tooltipBodyNode = tooltipBodyRef.current\n\n    const eventListenerCallback = () => {\n      if (onTriggerMove) {\n        onTriggerMove()\n      } else {\n        repositionTooltip(\n          triggerNode,\n          tooltipNode,\n          tooltipBodyNode,\n          tooltipArrowRef.current,\n          paddingInPixels,\n          arrowSizeInRems\n        )\n      }\n    }\n\n    const clickOutsideCallback = (e: Event) => {\n      if (\n        active &&\n        tooltipNode &&\n        !tooltipNode.contains(e.target as Node) &&\n        onClickOutside\n      )\n        onClickOutside()\n    }\n\n    document.addEventListener('click', clickOutsideCallback)\n    window.addEventListener('scroll', eventListenerCallback, true)\n    window.addEventListener('resize', eventListenerCallback, true)\n    mutationObserver.observe(document, mutationObserverConfig)\n    if (triggerNode) resizeObserver.observe(triggerNode)\n    if (tooltipNode) resizeObserver.observe(tooltipNode)\n\n    return () => {\n      document.removeEventListener('click', clickOutsideCallback)\n      window.removeEventListener('scroll', eventListenerCallback, true)\n      window.removeEventListener('resize', eventListenerCallback, true)\n      mutationObserver.disconnect()\n      if (triggerNode) resizeObserver.unobserve(triggerNode)\n      if (tooltipNode) resizeObserver.unobserve(tooltipNode)\n    }\n  })\n\n  return (\n    <>\n      {cloneElement(children, { ref: triggerRef })}\n\n      {active &&\n        createPortal(\n          <div className=\"Tooltip\" ref={tooltipRef}>\n            <div className=\"Tooltip__arrow\" ref={tooltipArrowRef} />\n            <div\n              className=\"Tooltip__body\"\n              style={{ maxWidth: `calc(100vw - ${paddingInPixels * 2}px)` }}\n              ref={tooltipBodyRef}\n            >\n              {content}\n            </div>\n          </div>,\n          document.body\n        )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport './TextSample.scss'\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n// import { faExclamationCircle } from '@fortawesome/pro-light-svg-icons'\n\nimport chromajs from 'chroma-js'\nimport { TextColorType } from 'utils/getDerivedColors'\nimport { Tooltip } from '../Tooltip'\n\nexport const TextSample = ({\n  bgColorHex,\n  textColor,\n  showDetails,\n  isSafeInConfig,\n}: {\n  bgColorHex: string\n  textColor: TextColorType\n  showDetails: boolean\n  isSafeInConfig: boolean\n}) => {\n  const [active, setActive] = useState(false)\n\n  const toggleActive = () => setActive((prev) => !prev)\n\n  const colorRGB = textColor.hex ? chromajs(textColor.hex).css() : undefined\n\n  const microCopy = [\n    `L: ${textColor.lch.l.toFixed(1)}`,\n    `C: ${textColor.lch.c.toFixed(1)}`,\n    `H: ${textColor.lch.h.toFixed(1)}`,\n  ].join(', ')\n\n  const contrast =\n    Math.round(chromajs.contrast(bgColorHex, textColor.hex) * 10) / 10\n\n  const isUnsafeContrast = contrast < 4.5\n\n  return (\n    <div\n      className=\"TextSample\"\n      style={{\n        color: textColor.hex,\n        backgroundColor: bgColorHex,\n      }}\n      onClick={(e) => {\n        if (e.currentTarget.contains(e.target as Node)) toggleActive()\n      }}\n    >\n      <div className=\"TextSample__main-copy\">\n        <Tooltip\n          active={active}\n          content={textColor.tokenName}\n          onTriggerMove={() => setActive(false)}\n          onClickOutside={() => setActive(false)}\n        >\n          <span\n            className=\"TextSample__sample-text\"\n            style={{\n              color: textColor.hex,\n            }}\n          >\n            {'Sample Text ' + contrast.toFixed(1)}\n          </span>\n        </Tooltip>\n        <span>{isSafeInConfig === false ? '!' : ''}</span>\n        <span>\n          {isSafeInConfig === false &&\n          textColor.tokenName.match('UNSAFE') === null\n            ? 'AAAACK'\n            : ''}\n        </span>\n      </div>\n      {/* {isSafeInConfig === true && <div>safe config</div>} */}\n      {/* {isSafeInConfig === false && <div>unsafe config</div>} */}\n      {isSafeInConfig === undefined && (\n        <div style={{ backgroundColor: 'orange', color: 'white' }}>\n          missing config\n        </div>\n      )}\n      {isSafeInConfig === true && isUnsafeContrast && (\n        <div style={{ backgroundColor: 'red', color: 'white' }}>\n          bad conflict!\n        </div>\n      )}\n      {/* {isSafeInConfig === false && !isUnsafeContrast && (\n        <div\n          style={{\n            backgroundColor: 'orangered',\n            color: 'white',\n            width: 'max-content',\n            padding: '0 4px',\n          }}\n        >\n          minor conflict!\n        </div>\n      )} */}\n      {showDetails && (\n        <div className=\"TextSample__micro-copy\">\n          <div>{microCopy}</div>\n          <div>{colorRGB}</div>\n        </div>\n      )}\n      {/* {active && <div className=\"TextSample__tooltip\">{textColor.tokenName}</div>} */}\n    </div>\n    // </Tooltip>\n  )\n}\n","import React from 'react'\nimport { ChromaticShadeTextColorsType } from 'utils/getDerivedColors'\nimport './TextSamples.scss'\nimport { TextSample, TextSamplesPlot } from '../../components'\nimport { VividTextColorsForGreyShadeType } from 'utils/extractVividTextColorsForGreyScale'\nimport chromajs from 'chroma-js'\nimport {\n  safeTextOnChromaticColors,\n  //safeTextOnGreyColors\n} from 'config'\n\nexport const TextSamples = ({\n  bgColorHex,\n  shadeTextColors,\n  vividTextColorsForGreyShade,\n  showPlot,\n  showDetails,\n  shadeIndex,\n}: {\n  bgColorHex: string\n  shadeTextColors: ChromaticShadeTextColorsType\n  vividTextColorsForGreyShade?: VividTextColorsForGreyShadeType\n  showPlot: boolean\n  showDetails: boolean\n  shadeIndex: number\n}) => {\n  return (\n    <div className=\"TextSamples\">\n      <div className=\"TextSamples__samples\">\n        <TextSample\n          bgColorHex={bgColorHex}\n          textColor={shadeTextColors.textColor}\n          showDetails={showDetails}\n          isSafeInConfig={safeTextOnChromaticColors?.[shadeIndex]?.default}\n        />\n        <TextSample\n          bgColorHex={bgColorHex}\n          textColor={shadeTextColors.textColorSubdued}\n          showDetails={showDetails}\n          isSafeInConfig={safeTextOnChromaticColors?.[shadeIndex]?.subdued}\n        />\n      </div>\n      {vividTextColorsForGreyShade ? (\n        <>\n          {showPlot && (\n            <div className=\"TextSamples__plot\">\n              <TextSamplesPlot\n                bgColorLCH={shadeTextColors.bgColor.lch}\n                textColors={[\n                  shadeTextColors.textColor,\n                  shadeTextColors.textColorSubdued,\n                ]}\n              />\n            </div>\n          )}\n          {vividTextColorsForGreyShade.vividTextColorSets.map(\n            (vividTextColorSet, indexKey) => {\n              return (\n                <React.Fragment key={indexKey}>\n                  <div className=\"TextSamples__samples\">\n                    <TextSample\n                      bgColorHex={bgColorHex}\n                      textColor={{\n                        ...vividTextColorSet.vividTextColor,\n                        contrast: chromajs.contrast(\n                          bgColorHex,\n                          vividTextColorSet.vividTextColor.hex\n                        ),\n                      }}\n                      showDetails={showDetails}\n                      isSafeInConfig={\n                        safeTextOnChromaticColors?.[shadeIndex]?.vivid\n                      }\n                    />\n                    <TextSample\n                      bgColorHex={bgColorHex}\n                      textColor={{\n                        ...vividTextColorSet.vividTextColorSubdued,\n                        contrast: chromajs.contrast(\n                          bgColorHex,\n                          vividTextColorSet.vividTextColorSubdued.hex\n                        ),\n                      }}\n                      showDetails={showDetails}\n                      isSafeInConfig={\n                        safeTextOnChromaticColors?.[shadeIndex]?.[\n                          'vivid-subdued'\n                        ]\n                      }\n                    />\n                  </div>\n                  {showPlot && (\n                    <div className=\"TextSamples__plot\">\n                      <TextSamplesPlot\n                        bgColorLCH={vividTextColorSet.vividTextColor.lch}\n                        textColors={[\n                          vividTextColorSet.vividTextColor,\n                          vividTextColorSet.vividTextColorSubdued,\n                        ]}\n                      />\n                    </div>\n                  )}\n                </React.Fragment>\n              )\n            }\n          )}\n        </>\n      ) : (\n        <>\n          <div\n            className=\"TextSamples__samples\"\n            style={{ backgroundColor: bgColorHex }}\n          >\n            <TextSample\n              bgColorHex={bgColorHex}\n              textColor={shadeTextColors.vividTextColor}\n              showDetails={showDetails}\n              isSafeInConfig={safeTextOnChromaticColors?.[shadeIndex]?.vivid}\n            />\n            <TextSample\n              bgColorHex={bgColorHex}\n              textColor={shadeTextColors.vividTextColorSubdued}\n              showDetails={showDetails}\n              isSafeInConfig={\n                safeTextOnChromaticColors?.[shadeIndex]?.['vivid-subdued']\n              }\n            />\n          </div>\n          {showPlot && (\n            <div className=\"TextSamples__plot\">\n              <TextSamplesPlot\n                bgColorLCH={shadeTextColors.bgColor.lch}\n                textColors={[\n                  shadeTextColors.textColor,\n                  shadeTextColors.textColorSubdued,\n                  shadeTextColors.vividTextColor,\n                  shadeTextColors.vividTextColorSubdued,\n                ]}\n              />\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport './TextSamplesPlot.scss'\nimport { Canvas } from '../../components'\nimport { lch, TextColorType } from 'utils'\nimport { LCHColor } from 'types'\n\nexport const TextSamplesPlot = ({\n  bgColorLCH,\n  textColors,\n}: {\n  bgColorLCH: LCHColor\n  textColors: TextColorType[]\n}) => {\n  const size = 1\n\n  return (\n    <div className=\"TextSamplesPlot\">\n      <Canvas hue={bgColorLCH.h} size={size} />\n      <div\n        className=\"TextSamplesPlot__mark\"\n        style={{ left: bgColorLCH.c * size, bottom: bgColorLCH.l * size }}\n        title={`background color`}\n      >\n        <div\n          className={\n            'TextSamplesPlot__bg-mark' +\n            (bgColorLCH.l > 70 ? ' TextSamplesPlot__bg-mark--on-light-bg' : '')\n          }\n          style={{ color: lch(bgColorLCH).hex() }}\n        />\n      </div>\n      {textColors.map((textColor, index) => (\n        <TEXT_SAMPLES_PLOT__MARK key={index} textColor={textColor} size={size} />\n      ))}\n    </div>\n  )\n}\n\nconst TEXT_SAMPLES_PLOT__MARK = ({\n  textColor,\n  size,\n}: {\n  textColor: TextColorType\n  size: number\n}) => {\n  return (\n    <div\n      className=\"TextSamplesPlot__mark\"\n      style={{\n        left: textColor.lch.c * size,\n        bottom: textColor.lch.l * size,\n      }}\n      title={`${\n        textColor.plotLabel\n      } regular text color \\n${textColor.lch.l.toFixed(\n        1\n      )}, ${textColor.lch.c.toFixed(1)}, ${textColor.lch.h.toFixed(1)}`}\n    >\n      {textColor.plotMarker}\n    </div>\n  )\n}\n","import React from 'react'\nimport './Toolbar.scss'\nimport {\n  faChartScatter,\n  faGlassesAlt,\n  faHashtag,\n  faText,\n  faSlidersH,\n  faExpand,\n} from '@fortawesome/pro-light-svg-icons'\nimport { IconButton } from '../../components'\n\nexport const Toolbar = React.memo(\n  ({\n    onShowTextDetailsChange,\n    onShowTextPlotsChange,\n    onShowTextChange,\n    onShowColorOutputsChange,\n    onShowTextChromaControlsChange,\n    onFullscreenChange,\n    onCanvasSizeChange,\n    canvasSize,\n  }: {\n    onShowTextDetailsChange: () => void\n    onShowTextPlotsChange: () => void\n    onShowTextChange: () => void\n    onShowColorOutputsChange: () => void\n    onShowTextChromaControlsChange: () => void\n    onFullscreenChange: () => void\n    onCanvasSizeChange: (arg: number) => void\n    canvasSize: number\n  }) => {\n    return (\n      <div className=\"Toolbar\">\n        <div\n          className=\"Toolbar__buttons\"\n          style={{ flex: `0 0 ${150 * canvasSize + 48 - 8}px` }}\n        >\n          <input\n            className=\"Toolbar__number-input\"\n            title=\"Change the size of the canvas\"\n            type=\"number\"\n            min={1}\n            max={6}\n            value={canvasSize}\n            onChange={(e) => onCanvasSizeChange(+e.target.value)}\n          />\n\n          <div className=\"Toolbar__button\">\n            <IconButton\n              onClick={onShowTextChromaControlsChange}\n              faIcon={faSlidersH}\n              title=\"Show text sample\"\n            />\n          </div>\n\n          {/* <div className=\"Toolbar__divider\" /> */}\n        </div>\n        <div className=\"Toolbar__buttons\" style={{ flexGrow: 1 }}>\n          <div className=\"Toolbar__button\">\n            <IconButton\n              onClick={onShowTextChange}\n              faIcon={faText}\n              title=\"Show text samples\"\n            />\n          </div>\n          <div className=\"Toolbar__button\">\n            <IconButton\n              onClick={onShowColorOutputsChange}\n              faIcon={faHashtag}\n              title=\"show hex code for swatch colors\"\n            />\n          </div>\n          <div className=\"Toolbar__button\">\n            <IconButton\n              onClick={onShowTextPlotsChange}\n              faIcon={faChartScatter}\n              title=\"Show plot of text color on LCH canvas\"\n            />\n          </div>\n\n          <div className=\"Toolbar__button\">\n            <IconButton\n              onClick={onShowTextDetailsChange}\n              faIcon={faGlassesAlt}\n              title=\"Show LCH and RGB color breakdown\"\n            />\n          </div>\n          <div className=\"Toolbar__comment\">\n            use these toolbar buttons to display or hide the nerdy data stuff\n          </div>\n          <div className=\"Toolbar__button\" style={{ marginLeft: 'auto' }}>\n            <IconButton\n              onClick={onFullscreenChange}\n              faIcon={faExpand}\n              title=\"Make full screen\"\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\n","import React from 'react'\nimport './TargetColorInput.scss'\nimport { ActionType } from 'types'\n\nexport const TargetColorInput = ({\n  value,\n  scaleIndex,\n  onChange,\n  onBlur,\n}: {\n  value: string\n  scaleIndex: number\n  onChange: (action: ActionType) => void\n  onBlur?: () => void\n}) => {\n  const handleOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({\n      changeType: 'targetColorString',\n      scaleIndex,\n      value: e.target.value === '' ? undefined : e.target.value,\n    })\n  }\n\n  return (\n    <div className=\"TargetColorInput\">\n      <input type=\"text\" value={value} onChange={handleOnChange} onBlur={onBlur} />\n    </div>\n  )\n}\n","import React, { useCallback, useReducer, useRef, useState } from 'react'\nimport { mainReducer } from 'reducers'\nimport './PaletteGenerator.scss'\nimport { Outputs, ScaleGenerator, Toolbar } from './components'\nimport { useDragHandle } from 'hooks'\nimport theme from 'config/beewo-theme.json'\nimport { extractVividTextColorsForGreyScale, getDerivedColors } from 'utils'\nimport ReactDOM from 'react-dom'\n\nexport const PaletteGenerator = () => {\n  const defaults = {\n    showText: true,\n    showTextDetails: false,\n    showTextPlots: false,\n    showTextChromaControls: false,\n    showColorOutputs: false,\n    fullscreen: true,\n    size: 3,\n    outputInitialHeight: 42,\n  }\n\n  const [state, handleStateChanges] = useReducer(mainReducer, theme)\n\n  const [showText, setShowText] = useState(defaults.showText) // showText\n  const handleShowTextChange = useCallback(\n    () => setShowText(!showText),\n    [setShowText, showText]\n  )\n\n  const [showTextDetails, setShowTextDetails] = useState(\n    defaults.showTextDetails\n  ) // showTextDetails\n  const handleShowTextDetailsChange = useCallback(\n    () => setShowTextDetails(!showTextDetails),\n    [setShowTextDetails, showTextDetails]\n  )\n\n  const [showTextPlots, setShowTextPlots] = useState(defaults.showTextPlots) // showTextPlots\n  const handleShowTextPlotsChange = useCallback(\n    () => setShowTextPlots(!showTextPlots),\n    [setShowTextPlots, showTextPlots]\n  )\n\n  const [showTextChromaControls, setShowTextChromaControls] = useState(\n    defaults.showTextChromaControls\n  ) // showTextChromaControls\n  const handleShowTextChromaControlsChange = useCallback(\n    () => setShowTextChromaControls(!showTextChromaControls),\n    [setShowTextChromaControls, showTextChromaControls]\n  )\n\n  const [showColorOutputs, setShowColorOutputs] = useState(\n    defaults.showColorOutputs\n  ) // showColorOutputs\n  const handleShowColorOutputsChange = useCallback(\n    () => setShowColorOutputs(!showColorOutputs),\n    [setShowColorOutputs, showColorOutputs]\n  )\n\n  const [fullscreen, setFullscreen] = useState(defaults.fullscreen) // fullscreen\n  const handleFullscreenChange = useCallback(\n    () => setFullscreen(!fullscreen),\n    [setFullscreen, fullscreen]\n  )\n\n  const outputDragHandleRef = useRef<HTMLDivElement>(null)\n  const outputHeightPx = useDragHandle(\n    outputDragHandleRef,\n    defaults.outputInitialHeight,\n    42\n  ) // 45\n\n  const computedTextColors = getDerivedColors(state)\n\n  const vividTextColorsForGreyShades =\n    extractVividTextColorsForGreyScale(computedTextColors)\n\n  const [size, setSize] = useState(defaults.size)\n  const handleCanvasSizeChange = (size: number) => {\n    setSize(size)\n  }\n\n  return (\n    <>\n      {ReactDOM.createPortal(\n        <div\n          className={\n            'PaletteGenerator' +\n            (fullscreen ? ' PaletteGenerator--is-fullscreen' : '')\n          }\n          style={\n            fullscreen\n              ? { height: '100vh', width: '100vw', right: 0, bottom: 0 }\n              : undefined\n          }\n        >\n          <Toolbar\n            onShowTextDetailsChange={handleShowTextDetailsChange}\n            onShowTextPlotsChange={handleShowTextPlotsChange}\n            onShowTextChange={handleShowTextChange}\n            onShowColorOutputsChange={handleShowColorOutputsChange}\n            onShowTextChromaControlsChange={handleShowTextChromaControlsChange}\n            onCanvasSizeChange={handleCanvasSizeChange}\n            onFullscreenChange={handleFullscreenChange}\n            canvasSize={size}\n          />\n          <div className=\"PaletteGenerator__scales\">\n            {state.scales.map((scale, scaleIndex) => (\n              <ScaleGenerator\n                showText={showText}\n                showTextPlots={showTextPlots}\n                showTextDetails={showTextDetails}\n                showColorOutputs={showColorOutputs}\n                showTextChromaControls={showTextChromaControls}\n                key={scaleIndex}\n                scaleIndex={scaleIndex}\n                scale={scale}\n                scaleTextColors={computedTextColors[scaleIndex]}\n                vividTextColorsForGreyShades={\n                  scaleIndex === 0 ? vividTextColorsForGreyShades : undefined\n                }\n                onChange={handleStateChanges}\n                size={size}\n              />\n            ))}\n            <div className=\"PaletteGenerator__the-end\"></div>\n          </div>\n\n          <div\n            className=\"PaletteGenerator__outputs\"\n            style={{\n              // minHeight: outputHeightPx + 'px',\n              // maxHeight: outputHeightPx + 'px',\n              flexBasis: outputHeightPx + 'px',\n            }}\n          >\n            <div\n              className=\"PaletteGenerator__drag-handle\"\n              ref={outputDragHandleRef}\n            />\n            <Outputs\n              state={state}\n              textColors={computedTextColors}\n              vividTextColorsForGreyShades={vividTextColorsForGreyShades}\n            />\n          </div>\n        </div>,\n        document.body\n      )}\n    </>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nexport const useDragHandle = (\n  dragHandleRef: React.RefObject<HTMLDivElement>,\n  initialHeight: number,\n  minHeight: number\n) => {\n  const [handleIsDragging, setHandleIsDragging] = useState(false)\n  const [outputHeightPx, setOutputHeightPx] = useState(initialHeight)\n  // const minHeight = 45\n\n  const handleMouseUp = useCallback(() => setHandleIsDragging(false), [\n    setHandleIsDragging,\n  ])\n  const handleMouseMove = useCallback(\n    (e: globalThis.MouseEvent) => {\n      setOutputHeightPx((prev) =>\n        prev - e.movementY >= minHeight ? prev - e.movementY : minHeight\n      )\n    },\n    [minHeight]\n  )\n\n  useEffect(() => {\n    const dragHandle = dragHandleRef.current\n    const handleMouseDown = () => setHandleIsDragging(true)\n    if (dragHandle) dragHandle.addEventListener('mousedown', handleMouseDown)\n\n    return () => {\n      if (dragHandle)\n        dragHandle.removeEventListener('mousedown', handleMouseDown)\n    }\n  }, [dragHandleRef])\n\n  useEffect(() => {\n    if (handleIsDragging) {\n      window.addEventListener('mousemove', handleMouseMove)\n      window.addEventListener('mouseup', handleMouseUp)\n      document.body.style.userSelect = 'none'\n    } else {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n      document.body.style.removeProperty('user-select')\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n  }, [handleIsDragging, handleMouseUp, handleMouseMove])\n  return outputHeightPx\n}\n","import { LCHColor, StateType } from 'types'\nimport { getTextColor, lch } from 'utils'\nimport {\n  luminances,\n  shadeNames,\n  regularTextColorConfig,\n  vividTextColorConfig,\n  safeTextOnChromaticColors,\n  // greyscaleTextColorConfig,\n} from 'config'\nimport { faSquare, faCircle } from '@fortawesome/pro-solid-svg-icons'\n\nexport type TextColorType = {\n  tokenName: string\n  lch: LCHColor\n  hex: string\n  contrast: number\n  plotLabel: string\n  plotMarker: JSX.Element\n}\n\nexport type BGColorType = {\n  tokenName: string\n  lch: {\n    l: number\n    c: number\n    h: number\n  }\n  hex: string\n}\n\nexport type ChromaticShadeTextColorsType = {\n  shadeName: string\n  bgColor: BGColorType\n  textColor: TextColorType\n  textColorSubdued: TextColorType\n  vividTextColor: TextColorType\n  vividTextColorSubdued: TextColorType\n}\n\nexport type TextColorsType = {\n  scaleName: string\n  shades: ChromaticShadeTextColorsType[]\n}\n\nexport const getDerivedColors = (state: StateType): TextColorsType[] => {\n  return state.scales.map((scale, scaleIndex) => {\n    return {\n      scaleName: scale.scaleName,\n      shades: scale.chromas.map((chroma, shadeIndex) => {\n        const bgColorLCH = {\n          l: luminances[shadeIndex],\n          c: chroma,\n          h: scale.hue,\n        }\n        const color = lch(bgColorLCH)\n        const bgColorHex = color.hex()\n\n        const textColors = getTextColor({\n          bgColorLCH: bgColorLCH,\n          lum: regularTextColorConfig[shadeIndex].lum,\n          chroma: scale.chromaticTextChroma,\n          mix: regularTextColorConfig[shadeIndex].mix,\n          icon: faCircle,\n          label: 'regular',\n        })\n\n        const vividTextColors = getTextColor({\n          bgColorLCH: bgColorLCH,\n          lum: vividTextColorConfig[shadeIndex].lum,\n          minLum: vividTextColorConfig[shadeIndex].minLum,\n          chroma: scale.vividTextChroma,\n          mix: vividTextColorConfig[shadeIndex].mix,\n          maximizeChroma: true,\n          icon: faSquare,\n          label: 'vivid',\n        })\n\n        const token =\n          scaleIndex === 0 && shadeIndex === 0\n            ? 'white'\n            : scale.scaleName.toLowerCase() + '-' + shadeNames[shadeIndex]\n\n        const isSafe = (\n          key: 'default' | 'subdued' | 'vivid' | 'vivid-subdued'\n        ) => {\n          return safeTextOnChromaticColors[shadeIndex][key] ? '' : '--UNSAFE'\n        }\n\n        return {\n          scaleName: scale.scaleName,\n          shadeName: shadeNames[shadeIndex],\n          bgColor: {\n            tokenName: 'color-' + token,\n            lch: bgColorLCH,\n            hex: bgColorHex,\n          },\n          textColor: {\n            tokenName: 'text-on-' + token + isSafe('default'),\n            lch: textColors.regular.lch,\n            hex: textColors.regular.hex,\n            contrast: textColors.regular.contrast,\n            plotLabel: textColors.label,\n            plotMarker: textColors.marker,\n          },\n          textColorSubdued: {\n            tokenName: 'text-on-' + token + '--subdued' + isSafe('subdued'),\n            lch: textColors.subdued.lch,\n            hex: textColors.subdued.hex,\n            contrast: textColors.subdued.contrast,\n            plotLabel: textColors.label,\n            plotMarker: textColors.marker,\n          },\n          vividTextColor: {\n            tokenName: 'text-on-' + token + '--vivid' + isSafe('vivid'),\n            lch: vividTextColors.regular.lch,\n            hex: vividTextColors.regular.hex,\n            contrast: vividTextColors.regular.contrast,\n            plotLabel: vividTextColors.label,\n            plotMarker: vividTextColors.marker,\n          },\n          vividTextColorSubdued: {\n            tokenName:\n              'text-on-' + token + '--vivid-subdued' + isSafe('vivid-subdued'),\n            lch: vividTextColors.subdued.lch,\n            hex: vividTextColors.subdued.hex,\n            contrast: vividTextColors.subdued.contrast,\n            plotLabel: vividTextColors.label,\n            plotMarker: vividTextColors.marker,\n          },\n        }\n      }),\n    }\n  })\n}\n","import { TextColorsType, TextColorType } from './getDerivedColors'\nimport { shadeNames, vividTextColorConfig } from 'config'\nimport { kbob } from './kbob'\nimport chromajs from 'chroma-js'\nimport { lch } from 'utils'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCircle } from '@fortawesome/pro-solid-svg-icons'\nimport React from 'react'\n\nexport type VividOnGreyShadeTextColorsType = TextColorType[]\n\ntype VividTextColorSetType = {\n  srcScaleKebab: string\n  srcShade: string\n  vividTextColor: TextColorType\n  vividTextColorSubdued: TextColorType\n}\n\nexport type VividTextColorsForGreyShadeType = {\n  shadeName: string\n  vividTextColorSets: VividTextColorSetType[]\n}\n\nexport const extractVividTextColorsForGreyScale = (\n  textColors: TextColorsType[]\n) => {\n  const greyScaleTextColors = textColors[0]\n\n  const chromaticScalesTextColors = textColors\n    .slice(1)\n    .map((scale, scaleIndex) => {\n      return {\n        scaleName: scale.scaleName,\n        shades: scale.shades.map((shade, shadeIndex) => {\n          return {\n            srcScale: scale.scaleName,\n            srcShade: shade.shadeName,\n            vividTextColorLCH: { ...shade.vividTextColor.lch },\n          }\n        }),\n      }\n    })\n\n  return greyScaleTextColors.shades.reduce(\n    (\n      prev: VividTextColorsForGreyShadeType[],\n      greyShadeTextColors,\n      shadeIndex\n    ) => {\n      const greyBgColorHex = greyShadeTextColors.bgColor.hex\n\n      return [\n        ...prev,\n        {\n          shadeName: shadeNames[shadeIndex],\n          vividTextColorSets: chromaticScalesTextColors.map(\n            (scale): VividTextColorSetType => {\n              const currGreyShade = scale.shades[shadeIndex]\n\n              const vividText = lch(currGreyShade.vividTextColorLCH)\n\n              const vividTextSubdued = chromajs.mix(\n                vividText.hex(),\n                greyBgColorHex,\n                vividTextColorConfig[shadeIndex].mix\n              )\n\n              const scaleKebab = kbob(currGreyShade.srcScale)\n              const shadeName = currGreyShade.srcShade\n\n              const vividContrast = chromajs.contrast(\n                vividText.hex(),\n                greyBgColorHex\n              )\n\n              // const vivid_UNSAFE = vividContrast < 4.5 ? '--UNSAFE' : ''\n\n              const vividSubduedContrast = chromajs.contrast(\n                vividTextSubdued.hex(),\n                greyBgColorHex\n              )\n\n              // const vividSubdued_UNSAFE =\n              //   vividSubduedContrast < 4.5 ? '--UNSAFE' : ''\n\n              const vividtokenName =\n                shadeIndex === 0\n                  ? `text-on-white--${scaleKebab}`\n                  : `text-on-grey-${shadeName}--${scaleKebab}`\n\n              const vividSubduedtokenName =\n                shadeIndex === 0\n                  ? `text-on-white--${scaleKebab}-subdued--UNSAFE`\n                  : `text-on-grey-${shadeName}--${scaleKebab}-subdued--UNSAFE`\n\n              return {\n                srcScaleKebab: scaleKebab,\n                srcShade: shadeName,\n                vividTextColor: {\n                  tokenName: vividtokenName,\n                  lch: currGreyShade.vividTextColorLCH,\n                  hex: vividText.hex(),\n                  contrast: vividContrast,\n                  plotLabel: vividtokenName,\n                  plotMarker: <FontAwesomeIcon icon={faCircle} />,\n                },\n                vividTextColorSubdued: {\n                  tokenName: vividSubduedtokenName,\n                  lch: lch(vividTextSubdued.lch()),\n                  hex: vividTextSubdued.hex(),\n                  contrast: vividSubduedContrast,\n                  plotLabel: vividSubduedtokenName,\n                  plotMarker: <FontAwesomeIcon icon={faCircle} />,\n                },\n              }\n            }\n          ),\n        },\n      ]\n    },\n    []\n  )\n}\n","import React from 'react'\nimport './SampleApp.scss'\nimport { MessageCard, Text } from '../compoonents'\n\nexport const SampleApp = () => {\n  const bg = 'danger'\n  return (\n    <div className=\"SampleApp\">\n      <div className=\"SampleApp__header\">Header</div>\n      <MessageCard />\n      <div style={{ backgroundColor: `var(--color-${bg})`, padding: '1rem' }}>\n        <Text on=\"white\">Hello, world!</Text>\n      </div>\n    </div>\n  )\n}\n","import { PaletteGenerator } from 'PaletteGenerator'\nimport './App.scss'\nimport React from 'react'\nimport { SampleApp } from 'SampleApp/SampleApp'\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <div className=\"App__palette-generator\">\n        <PaletteGenerator />\n      </div>\n\n      <div className=\"App__sample-app\">\n        <SampleApp />\n      </div>\n    </div>\n  )\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}